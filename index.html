<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëˆìŠ¤íŠœë””ì˜¤ - AI í”¼íŒ… ì´¬ì˜ ì‘ì—…ì§€ì‹œì„œ</title>
    <meta name="cache-bust" content="2025091815">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <!-- ì¹´ì¹´ì˜¤í†¡ SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js" integrity="sha384-TiCUE00h649CAMonG018J2ujOgDKW/kVWlChEuu4jK2vxfAAD0eZxzCKakxg55G4" crossorigin="anonymous"></script>
    <!-- JSZip for creating ZIP files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <style>
        /* ì»¤ìŠ¤í…€ CSS */
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }

        .font-noto {
            font-family: 'Noto Sans KR', sans-serif;
        }

        /* ë¼ë””ì˜¤ ë²„íŠ¼ ë° ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ë§ */
        .gender-option:has(input:checked),
        .race-option:has(input:checked),
        .location-option:has(input:checked) {
            @apply border-indigo-500 bg-indigo-50;
        }

        .gender-option:has(input:checked) i,
        .race-option:has(input:checked) span,
        .location-option:has(input:checked) span {
            @apply text-indigo-600;
        }

        /* íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­ í˜¸ë²„ íš¨ê³¼ */
        .file-upload-area:hover {
            @apply border-indigo-400 bg-indigo-50;
        }

        /* ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ìŠ¤íƒ€ì¼ - ê°œì„ ëœ í¬ê¸°ì™€ ê°€ì‹œì„± */
        .image-preview-item {
            @apply relative rounded-lg overflow-hidden shadow-lg border-2 border-gray-200 bg-white;
            transition: all 0.2s ease;
        }
        
        .image-preview-item:hover {
            @apply border-indigo-300 shadow-xl transform scale-105;
        }

        .image-preview-item img {
            @apply w-full h-32 md:h-40 object-cover;
        }

        .image-preview-item .remove-btn {
            @apply absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm cursor-pointer hover:bg-red-600 shadow-lg;
            transition: all 0.2s ease;
        }
        
        .image-preview-item .remove-btn:hover {
            @apply transform scale-110;
        }

        /* í¼ ì• ë‹ˆë©”ì´ì…˜ */
        .form-group {
            @apply transform transition-all duration-200;
        }

        .form-group:hover {
            @apply translate-y-[-2px];
        }

        /* ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ */
        button {
            @apply transition-all duration-200;
        }

        /* ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜ */
        .modal-enter {
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í„°ë§ˆì´ì§• */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ ê°œì„  */
        @media (max-width: 768px) {
            .container {
                @apply px-2;
            }
            
            .form-group label {
                @apply text-xs;
            }
            
            .gender-option,
            .race-option,
            .location-option {
                @apply p-2 text-sm;
            }
            
            .gender-option i {
                @apply text-xl mb-1;
            }
            
            /* ëª¨ë°”ì¼ì—ì„œ ê·¸ë¦¬ë“œ ì¡°ì • */
            .grid.grid-cols-3 {
                @apply grid-cols-1;
            }
            
            .grid.grid-cols-2.md\\:grid-cols-4 {
                @apply grid-cols-2;
            }
            
            .grid.grid-cols-2.md\\:grid-cols-3 {
                @apply grid-cols-2;
            }
            
            /* ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ëª¨ë°”ì¼ ìµœì í™” */
            .grid.grid-cols-1.md\\:grid-cols-2.lg\\:grid-cols-3 {
                @apply grid-cols-1 gap-4;
            }
            
            /* ëª¨ë°”ì¼ í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
            h1 {
                @apply text-2xl;
            }
            
            h2 {
                @apply text-xl;
            }
            
            /* ëª¨ë°”ì¼ ë²„íŠ¼ í¬ê¸° ì¡°ì • */
            button[type="submit"] {
                @apply py-3;
            }
            
            button[type="submit"] span {
                @apply text-xs leading-tight;
            }
            
            /* ëª¨ë°”ì¼ ì…ë ¥ í•„ë“œ ì¡°ì • */
            input, textarea, select {
                @apply text-base py-2;
            }
            
            /* ëª¨ë°”ì¼ ëª¨ë‹¬ ì¡°ì • */
            #resultModal > div {
                @apply mx-2 max-w-sm;
            }
        }

        @media (max-width: 480px) {
            /* ì´ˆì†Œí˜• í™”ë©´ ëŒ€ì‘ */
            .gender-option,
            .race-option,
            .location-option {
                @apply p-1 text-xs;
            }
            
            .gender-option i {
                @apply text-lg;
            }
            
            .grid.grid-cols-2 {
                @apply grid-cols-1;
            }
            
            /* í—¤ë” ì•„ì´ì½˜ í¬ê¸° ì¡°ì • */
            .fa-camera-retro {
                @apply text-4xl;
            }
            
            /* í¼ íŒ¨ë”© ì¡°ì • */
            .bg-white.rounded-2xl > form {
                @apply p-4;
            }
            
            .bg-gradient-to-r.from-indigo-500 {
                @apply px-4 py-4;
            }
        }

        /* í…Œë¸”ë¦¿ ìµœì í™” */
        @media (min-width: 768px) and (max-width: 1024px) {
            .container {
                @apply px-4;
            }
            
            .grid.grid-cols-2.md\\:grid-cols-4 {
                @apply grid-cols-3;
            }
        }

        /* ì²´í¬ í‘œì‹œ ì• ë‹ˆë©”ì´ì…˜ */
        .check-animation {
            animation: checkBounce 0.6s ease-in-out;
        }

        @keyframes checkBounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
        .loading-spinner {
            @apply animate-spin rounded-full h-8 w-8 border-b-2 border-white;
        }

        /* ê·¸ë˜ë””ì–¸íŠ¸ í…ìŠ¤íŠ¸ */
        .gradient-text {
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ì¹´ë“œ í˜¸ë²„ íš¨ê³¼ */
        .card-hover {
            @apply transition-all duration-300 hover:shadow-2xl hover:-translate-y-1;
        }

        /* ìŠ¤íƒ€ì¼ ë³´ì™„ - ì„ íƒëœ ì˜µì…˜ ìŠ¤íƒ€ì¼ */
        .gender-option.selected,
        .race-option.selected,
        .location-option.selected {
            border-color: #6366f1 !important;
            background-color: #eef2ff !important;
        }

        .gender-option.selected i,
        .race-option.selected span,
        .location-option.selected span {
            color: #6366f1 !important;
        }

        /* ëª¨ë‹¬ ìŠ¤í¬ë¡¤ ìµœì í™” */
        .max-h-90vh {
            max-height: 90vh;
        }
        
        /* ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ê·¸ë¦¬ë“œ ê°œì„  */
        #modalImagePreview img {
            transition: transform 0.2s ease;
        }
        
        #modalImagePreview img:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-100 min-h-screen font-noto">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- í—¤ë” -->
        <div class="text-center mb-8">
            <div class="mb-4">
                <i class="fas fa-camera-retro text-6xl text-indigo-600 mb-4"></i>
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-2">ëˆìŠ¤íŠœë””ì˜¤</h1>
            <p class="text-xl text-gray-600 mb-1">AI í”¼íŒ… ì´¬ì˜ ì„œë¹„ìŠ¤</p>
            <p class="text-sm text-gray-500">@kkeunstudio</p>
        </div>

        <!-- ì‘ì—…ì§€ì‹œì„œ í¼ -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-600 px-8 py-6">
                <h2 class="text-2xl font-bold text-white flex items-center">
                    <i class="fas fa-clipboard-list mr-3"></i>
                    ì‘ì—…ì§€ì‹œì„œ
                </h2>
                <p class="text-indigo-100 mt-2">ì›í•˜ì‹œëŠ” AI í”¼íŒ… ì´¬ì˜ì„ ìœ„í•´ ì•„ë˜ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”</p>
            </div>

            <form id="orderForm" class="p-8 space-y-6">
                <!-- ë¸Œëœë“œëª… -->
                <div class="form-group">
                    <label for="brandName" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-tag mr-2 text-indigo-500"></i>ë¸Œëœë“œëª… *
                    </label>
                    <input type="text" id="brandName" name="brandName" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                           placeholder="ì˜ˆ: ëˆìŠ¤íŠœë””ì˜¤">
                </div>

                <!-- ì œì‘ ì»¨ì…‰ -->
                <div class="form-group">
                    <label for="concept" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-lightbulb mr-2 text-indigo-500"></i>ì œì‘í•˜ê³  ì‹¶ì€ ì»¨ì…‰ *
                    </label>
                    <textarea id="concept" name="concept" required rows="3"
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                              placeholder="ì˜ˆ: ìºì£¼ì–¼í•œ ì¼ìƒë£©, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ì˜¤í”¼ìŠ¤ë£©, íŠ¸ë Œë””í•œ ìŠ¤íŠ¸ë¦¿íŒ¨ì…˜ ë“±"></textarea>
                </div>

                <!-- ëª¨ë¸ ì„±ë³„ -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-users mr-2 text-indigo-500"></i>ëª¨ë¸ ì„±ë³„ *
                    </label>
                    <div class="grid grid-cols-3 gap-4">
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors gender-option">
                            <input type="radio" name="gender" value="ì—¬ì„±" class="sr-only">
                            <div class="flex flex-col items-center w-full">
                                <i class="fas fa-female text-2xl text-pink-500 mb-2"></i>
                                <span class="font-medium">ì—¬ì„±</span>
                            </div>
                        </label>
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors gender-option">
                            <input type="radio" name="gender" value="ë‚¨ì„±" class="sr-only">
                            <div class="flex flex-col items-center w-full">
                                <i class="fas fa-male text-2xl text-blue-500 mb-2"></i>
                                <span class="font-medium">ë‚¨ì„±</span>
                            </div>
                        </label>
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors gender-option">
                            <input type="radio" name="gender" value="ë¬´ê´€" class="sr-only">
                            <div class="flex flex-col items-center w-full">
                                <i class="fas fa-genderless text-2xl text-gray-500 mb-2"></i>
                                <span class="font-medium">ë¬´ê´€</span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- ëª¨ë¸ ì¸ì¢… -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-globe mr-2 text-indigo-500"></i>ëª¨ë¸ ì¸ì¢… *
                    </label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="ë™ì–‘ì¸" class="sr-only">
                            <span class="font-medium text-center w-full">ë™ì–‘ì¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="ë°±ì¸" class="sr-only">
                            <span class="font-medium text-center w-full">ë°±ì¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="í‘ì¸" class="sr-only">
                            <span class="font-medium text-center w-full">í‘ì¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="ë¬´ê´€" class="sr-only">
                            <span class="font-medium text-center w-full">ë¬´ê´€</span>
                        </label>
                    </div>
                </div>

                <!-- ì´¬ì˜ ì¥ì†Œ/ë°°ê²½ -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-map-marker-alt mr-2 text-indigo-500"></i>ì´¬ì˜ ì¥ì†Œ/ë°°ê²½
                    </label>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ìŠ¤íŠœë””ì˜¤" class="sr-only">
                            <span class="font-medium text-center w-full">ìŠ¤íŠœë””ì˜¤</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ì•¼ì™¸" class="sr-only">
                            <span class="font-medium text-center w-full">ì•¼ì™¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ì¹´í˜" class="sr-only">
                            <span class="font-medium text-center w-full">ì¹´í˜</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ê±°ë¦¬" class="sr-only">
                            <span class="font-medium text-center w-full">ê±°ë¦¬</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ì‚¬ë¬´ì‹¤" class="sr-only">
                            <span class="font-medium text-center w-full">ì‚¬ë¬´ì‹¤</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ê¸°íƒ€" class="sr-only">
                            <span class="font-medium text-center w-full">ê¸°íƒ€</span>
                        </label>
                    </div>
                    <input type="text" id="customLocation" name="customLocation" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors mt-3 hidden"
                           placeholder="ì›í•˜ì‹œëŠ” ì¥ì†Œë¥¼ ì§ì ‘ ì…ë ¥í•´ ì£¼ì„¸ìš”">
                </div>

                <!-- ìƒí’ˆ ì‚¬ì§„ ì—…ë¡œë“œ -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-camera mr-2 text-indigo-500"></i>ìƒí’ˆ ì‚¬ì§„ (ì°©ìš©ì»· ê¶Œì¥) *
                    </label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-indigo-400 transition-colors">
                        <input type="file" id="productImages" name="productImages" multiple accept="image/*" class="hidden">
                        <label for="productImages" class="cursor-pointer">
                            <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 font-medium mb-2">í´ë¦­í•˜ì—¬ ì´ë¯¸ì§€ ì—…ë¡œë“œ</p>
                            <p class="text-sm text-gray-400">PNG, JPG, JPEG íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš” (ìµœëŒ€ 10MB)</p>
                        </label>
                    </div>
                    <div id="imagePreview" class="mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 hidden"></div>
                </div>

                <!-- ì—°ë½ì²˜ -->
                <div class="form-group">
                    <label for="contact" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-phone mr-2 text-indigo-500"></i>ì—°ë½ì²˜ *
                    </label>
                    <input type="text" id="contact" name="contact" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                           placeholder="010-0000-0000">
                </div>

                <!-- ì¶”ê°€ ìš”ì²­ì‚¬í•­ -->
                <div class="form-group">
                    <label for="additionalRequest" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-comment-dots mr-2 text-indigo-500"></i>ì¶”ê°€ ìš”ì²­ì‚¬í•­
                    </label>
                    <textarea id="additionalRequest" name="additionalRequest" rows="3"
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                              placeholder="íŠ¹ë³„í•œ í¬ì¦ˆë‚˜ ë¶„ìœ„ê¸°, ê¸°íƒ€ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”"></textarea>
                </div>

                <!-- ì œì¶œ ë²„íŠ¼ -->
                <div class="pt-6 space-y-3">
                    <button type="submit" 
                            id="submitButton"
                            onclick="console.log('ë²„íŠ¼ í´ë¦­ - onclick ì´ë²¤íŠ¸'); handleFormSubmitDirect(event);"
                            class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-4 px-4 rounded-lg hover:from-indigo-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
                        <i class="fas fa-download mr-2"></i>
                        <span class="text-sm md:text-base">ì‘ì—…ì§€ì‹œì„œ ë‹¤ìš´ë¡œë“œ (ë‹¤ìš´ë¡œë“œ í›„ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë³´ë‚´ì£¼ì„¸ìš”)</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- ê°„ë‹¨í•œ ì•Œë¦¼ ë©”ì‹œì§€ìš© ëª¨ë‹¬ (í•„ìš”ì‹œ) -->
        <div id="notificationModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-2xl p-8 max-w-md mx-4 text-center">
                <i id="notificationIcon" class="fas fa-check-circle text-5xl text-green-500 mb-4"></i>
                <h3 id="notificationTitle" class="text-2xl font-bold text-gray-800 mb-4">ì•Œë¦¼</h3>
                <p id="notificationMessage" class="text-gray-600 mb-4">ë©”ì‹œì§€</p>
                
                <button id="closeNotification" 
                        class="w-full bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-600 transition-colors">
                    í™•ì¸
                </button>
            </div>
        </div>

        <!-- í‘¸í„° -->
        <div class="text-center mt-8 text-gray-500">
            <p class="text-sm">Â© 2024 ëˆìŠ¤íŠœë””ì˜¤ | AI í”¼íŒ… ì´¬ì˜ ì„œë¹„ìŠ¤</p>
            <p class="text-xs mt-1">ì¹´ì¹´ì˜¤í†¡ ì±„ë„: @kkeunstudio</p>
            <div class="mt-4">
                <a href="admin.html" class="text-xs text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-cog mr-1"></i>ê´€ë¦¬ì í˜ì´ì§€
                </a>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let orderData = {};
        let uploadedImages = [];

        // DOM ë¡œë“œ ì™„ë£Œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ë¡œë“œ ì™„ë£Œ');
            initializeApp();
            checkForSharedData();
        });

        // ë°±ì—…: ìœˆë„ìš° ë¡œë“œ ì™„ë£Œ ì‹œì—ë„ ì‹¤í–‰ (DOMContentLoadedê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„)
        window.addEventListener('load', function() {
            console.log('ìœˆë„ìš° ë¡œë“œ ì™„ë£Œ');
            
            // í¼ì´ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë‹¤ì‹œ ì‹œë„
            const orderForm = document.getElementById('orderForm');
            if (orderForm && !orderForm.dataset.initialized) {
                console.log('í¼ ì¬ì´ˆê¸°í™” ì‹œë„');
                setupEventListeners();
                orderForm.dataset.initialized = 'true';
            }
        });

        // ì•± ì´ˆê¸°í™”
        function initializeApp() {
            console.log('ì•± ì´ˆê¸°í™” ì‹œì‘');
            
            // ì¹´ì¹´ì˜¤í†¡ SDK ì´ˆê¸°í™”
            if (typeof Kakao !== 'undefined') {
                Kakao.init('YOUR_KAKAO_APP_KEY'); // ì‹¤ì œ ì‚¬ìš©ì‹œì—ëŠ” ì¹´ì¹´ì˜¤ ê°œë°œìì„¼í„°ì—ì„œ ë°œê¸‰ë°›ì€ ì•± í‚¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”
                console.log('ì¹´ì¹´ì˜¤í†¡ SDK ì´ˆê¸°í™” ì™„ë£Œ:', Kakao.isInitialized());
            } else {
                console.log('ì¹´ì¹´ì˜¤í†¡ SDK ë¡œë“œë˜ì§€ ì•ŠìŒ');
            }
            
            setupEventListeners();
            setupFormValidation();
            setupImageUpload();
            setupCustomOptions();
            setupPhoneNumberFormatting();
            
            console.log('ì•± ì´ˆê¸°í™” ì™„ë£Œ');
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            console.log('ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì‹œì‘');
            
            // í¼ ì œì¶œ
            const orderForm = document.getElementById('orderForm');
            console.log('orderForm ìš”ì†Œ:', orderForm);
            
            if (orderForm) {
                orderForm.addEventListener('submit', handleFormSubmit);
                orderForm.dataset.initialized = 'true';
                console.log('í¼ ì œì¶œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ì™„ë£Œ');
                
                // ì¶”ê°€ ë””ë²„ê¹…: ì§ì ‘ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ë„ ì¶”ê°€
                const submitButton = orderForm.querySelector('button[type="submit"]');
                console.log('ì œì¶œ ë²„íŠ¼:', submitButton);
                
                if (submitButton) {
                    submitButton.addEventListener('click', function(e) {
                        console.log('ë²„íŠ¼ í´ë¦­ë¨ - ì´ë²¤íŠ¸ íƒ€ì…:', e.type);
                        // í¼ ì œì¶œì€ handleFormSubmitì—ì„œ ì²˜ë¦¬ë¨
                    });
                }
            } else {
                console.error('orderFormì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
            }
            
            // ì•Œë¦¼ ëª¨ë‹¬ ê´€ë ¨
            const closeNotificationBtn = document.getElementById('closeNotification');
            
            if (closeNotificationBtn) {
                closeNotificationBtn.addEventListener('click', closeNotification);
                console.log('ì•Œë¦¼ ëª¨ë‹¬ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ì™„ë£Œ');
            }
            
            // ë¼ë””ì˜¤ ë²„íŠ¼ ë° ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ë§
            setupOptionSelections();
        }

        // ì˜µì…˜ ì„ íƒ ìŠ¤íƒ€ì¼ë§ ì„¤ì •
        function setupOptionSelections() {
            // ì„±ë³„ ì„ íƒ
            document.querySelectorAll('input[name="gender"]').forEach(input => {
                input.addEventListener('change', function() {
                    document.querySelectorAll('.gender-option').forEach(option => {
                        option.classList.remove('selected', 'border-indigo-500', 'bg-indigo-50');
                    });
                    if (this.checked) {
                        this.closest('.gender-option').classList.add('selected', 'border-indigo-500', 'bg-indigo-50');
                    }
                });
            });
            
            // ì¸ì¢… ì„ íƒ
            document.querySelectorAll('input[name="race"]').forEach(input => {
                input.addEventListener('change', function() {
                    document.querySelectorAll('.race-option').forEach(option => {
                        option.classList.remove('selected', 'border-indigo-500', 'bg-indigo-50');
                    });
                    if (this.checked) {
                        this.closest('.race-option').classList.add('selected', 'border-indigo-500', 'bg-indigo-50');
                    }
                });
            });
            
            // ì¥ì†Œ ì„ íƒ (ë‹¤ì¤‘ ì„ íƒ)
            document.querySelectorAll('input[name="location"]').forEach(input => {
                input.addEventListener('change', function() {
                    const option = this.closest('.location-option');
                    if (this.checked) {
                        option.classList.add('selected', 'border-indigo-500', 'bg-indigo-50');
                        // "ê¸°íƒ€" ì„ íƒ ì‹œ ì…ë ¥ í•„ë“œ í‘œì‹œ
                        if (this.value === 'ê¸°íƒ€') {
                            document.getElementById('customLocation').classList.remove('hidden');
                        }
                    } else {
                        option.classList.remove('selected', 'border-indigo-500', 'bg-indigo-50');
                        // "ê¸°íƒ€" í•´ì œ ì‹œ ì…ë ¥ í•„ë“œ ìˆ¨ê¹€
                        if (this.value === 'ê¸°íƒ€') {
                            document.getElementById('customLocation').classList.add('hidden');
                            document.getElementById('customLocation').value = '';
                        }
                    }
                });
            });
        }

        // ì»¤ìŠ¤í…€ ì˜µì…˜ ì„¤ì •
        function setupCustomOptions() {
            // ê¸°íƒ€ ì¥ì†Œ ì…ë ¥ í•„ë“œ ì²˜ë¦¬ëŠ” ìœ„ì—ì„œ ì´ë¯¸ êµ¬í˜„ë¨
        }

        // ì „í™”ë²ˆí˜¸ ìë™ í¬ë§¤íŒ… ì„¤ì •
        function setupPhoneNumberFormatting() {
            const contactInput = document.getElementById('contact');
            
            if (contactInput) {
                contactInput.addEventListener('input', function(e) {
                    formatPhoneNumber(e.target);
                });
                
                contactInput.addEventListener('keydown', function(e) {
                    // ë°±ìŠ¤í˜ì´ìŠ¤, ì‚­ì œ, íƒ­, ì´ìŠ¤ì¼€ì´í”„, ì—”í„°, í™”ì‚´í‘œ í‚¤ëŠ” í—ˆìš©
                    if ([8, 9, 27, 13, 46, 37, 38, 39, 40].indexOf(e.keyCode) !== -1 ||
                        // Ctrl+A, Ctrl+C, Ctrl+V, Ctrl+X í—ˆìš©
                        (e.keyCode === 65 && (e.ctrlKey || e.metaKey)) ||
                        (e.keyCode === 67 && (e.ctrlKey || e.metaKey)) ||
                        (e.keyCode === 86 && (e.ctrlKey || e.metaKey)) ||
                        (e.keyCode === 88 && (e.ctrlKey || e.metaKey))) {
                        return;
                    }
                    
                    // ìˆ«ìê°€ ì•„ë‹Œ í‚¤ëŠ” ì°¨ë‹¨
                    if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                        e.preventDefault();
                    }
                });
                
                console.log('ì „í™”ë²ˆí˜¸ ìë™ í¬ë§¤íŒ… ì„¤ì • ì™„ë£Œ');
            }
        }

        // ì „í™”ë²ˆí˜¸ í¬ë§¤íŒ… í•¨ìˆ˜
        function formatPhoneNumber(input) {
            // ìˆ«ìë§Œ ì¶”ì¶œ
            let value = input.value.replace(/\D/g, '');
            
            // 11ìë¦¬ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ì œí•œ
            if (value.length > 11) {
                value = value.slice(0, 11);
            }
            
            // í¬ë§¤íŒ… ì ìš©
            let formattedValue = '';
            
            if (value.length > 0) {
                if (value.length <= 3) {
                    // 010
                    formattedValue = value;
                } else if (value.length <= 7) {
                    // 010-1234
                    formattedValue = value.slice(0, 3) + '-' + value.slice(3);
                } else {
                    // 010-1234-5678
                    formattedValue = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7);
                }
            }
            
            // ì…ë ¥ í•„ë“œì— í¬ë§¤íŒ…ëœ ê°’ ì„¤ì •
            input.value = formattedValue;
        }

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„¤ì •
        function setupImageUpload() {
            const fileInput = document.getElementById('productImages');
            const preview = document.getElementById('imagePreview');
            
            fileInput.addEventListener('change', function(e) {
                handleImageUpload(e.target.files);
            });
            
            // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
            const uploadArea = fileInput.parentElement;
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('border-indigo-400', 'bg-indigo-50');
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('border-indigo-400', 'bg-indigo-50');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('border-indigo-400', 'bg-indigo-50');
                handleImageUpload(e.dataTransfer.files);
            });
        }

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
        function handleImageUpload(files) {
            const preview = document.getElementById('imagePreview');
            const maxFiles = 10;
            const maxSize = 10 * 1024 * 1024; // 10MB
            
            // íŒŒì¼ ìˆ˜ ì œí•œ
            if (uploadedImages.length + files.length > maxFiles) {
                alert(`ìµœëŒ€ ${maxFiles}ê°œì˜ ì´ë¯¸ì§€ë§Œ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`);
                return;
            }
            
            Array.from(files).forEach(file => {
                // íŒŒì¼ í¬ê¸° ì œí•œ
                if (file.size > maxSize) {
                    alert(`${file.name} íŒŒì¼ì´ ë„ˆë¬´ í½ë‹ˆë‹¤. 10MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.`);
                    return;
                }
                
                // ì´ë¯¸ì§€ íŒŒì¼ íƒ€ì… ê²€ì‚¬
                if (!file.type.startsWith('image/')) {
                    alert(`${file.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageData = {
                        file: file,
                        url: e.target.result,
                        name: file.name
                    };
                    
                    uploadedImages.push(imageData);
                    addImagePreview(imageData, uploadedImages.length - 1);
                    
                    // ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ í‘œì‹œ
                    preview.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            });
        }

        // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì¶”ê°€ - ê°œì„ ëœ í¬ê¸°ì™€ ê°€ì‹œì„±
        function addImagePreview(imageData, index) {
            const preview = document.getElementById('imagePreview');
            const div = document.createElement('div');
            div.className = 'image-preview-item relative';
            div.innerHTML = `
                <div class="relative">
                    <img src="${imageData.url}" alt="${imageData.name}" class="w-full h-32 md:h-40 object-cover rounded-lg cursor-pointer" onclick="viewFullImage('${imageData.url}', '${imageData.name}')">
                    <button type="button" class="remove-btn absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm cursor-pointer hover:bg-red-600 shadow-lg" onclick="removeImage(${index})">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-3">
                    <p class="text-sm font-medium text-gray-700 truncate">${imageData.name}</p>
                    <p class="text-xs text-gray-500 mt-1">${formatFileSize(imageData.file.size)}</p>
                    <div class="text-xs text-indigo-600 mt-1">
                        <i class="fas fa-eye mr-1"></i>í´ë¦­í•˜ì—¬ í¬ê²Œ ë³´ê¸°
                    </div>
                </div>
            `;
            preview.appendChild(div);
        }

        // ì´ë¯¸ì§€ ì œê±°
        function removeImage(index) {
            uploadedImages.splice(index, 1);
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';
            
            // ë‹¤ì‹œ ë Œë”ë§
            uploadedImages.forEach((imageData, i) => {
                addImagePreview(imageData, i);
            });
            
            // ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ ìˆ¨ê¹€
            if (uploadedImages.length === 0) {
                preview.classList.add('hidden');
            }
        }

        // í¼ ìœ íš¨ì„± ê²€ì‚¬ ì„¤ì •
        function setupFormValidation() {
            const form = document.getElementById('orderForm');
            const inputs = form.querySelectorAll('input[required], textarea[required]');
            
            inputs.forEach(input => {
                input.addEventListener('blur', validateField);
                input.addEventListener('input', clearFieldError);
            });
        }

        // í•„ë“œ ìœ íš¨ì„± ê²€ì‚¬
        function validateField(e) {
            const field = e.target;
            const value = field.value.trim();
            
            // ê¸°ì¡´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
            clearFieldError(e);
            
            if (!value) {
                showFieldError(field, 'ì´ í•„ë“œëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.');
                return false;
            }
            
            // ì—°ë½ì²˜ í˜•ì‹ ê²€ì‚¬
            if (field.name === 'contact') {
                const phoneRegex = /^010-\d{4}-\d{4}$/;
                if (!phoneRegex.test(value)) {
                    showFieldError(field, 'ì˜¬ë°”ë¥¸ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”. (ì˜ˆ: 010-1234-5678)');
                    return false;
                }
            }
            
            return true;
        }

        // í•„ë“œ ì—ëŸ¬ í‘œì‹œ
        function showFieldError(field, message) {
            field.classList.add('border-red-500');
            
            const errorDiv = document.createElement('div');
            errorDiv.className = 'text-red-500 text-sm mt-1 error-message';
            errorDiv.textContent = message;
            
            field.parentElement.appendChild(errorDiv);
        }

        // í•„ë“œ ì—ëŸ¬ ì œê±°
        function clearFieldError(e) {
            const field = e.target;
            field.classList.remove('border-red-500');
            
            const errorMessage = field.parentElement.querySelector('.error-message');
            if (errorMessage) {
                errorMessage.remove();
            }
        }

        // í¼ ì œì¶œ ì²˜ë¦¬ (ë©”ì¸)
        function handleFormSubmit(e) {
            e.preventDefault();
            console.log('í¼ ì œì¶œ ì´ë²¤íŠ¸ ë°œìƒ (addEventListener)');
            processFormSubmission();
        }

        // í¼ ì œì¶œ ì²˜ë¦¬ (ë°±ì—… - onclickì—ì„œ í˜¸ì¶œ)
        function handleFormSubmitDirect(e) {
            e.preventDefault();
            console.log('í¼ ì œì¶œ ì´ë²¤íŠ¸ ë°œìƒ (onclick)');
            processFormSubmission();
        }

        // ì‹¤ì œ í¼ ì²˜ë¦¬ ë¡œì§ - ë°”ë¡œ ZIP ë‹¤ìš´ë¡œë“œ
        function processFormSubmission() {
            console.log('processFormSubmission í•¨ìˆ˜ ì‹œì‘');
            
            try {
                if (!validateForm()) {
                    console.log('í¼ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨');
                    return;
                }
                
                console.log('í¼ ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼');
                
                // ë¡œë”© í‘œì‹œ
                console.log('ë¡œë”© í‘œì‹œ ì‹œì‘');
                showLoading();
                
                // í¼ ë°ì´í„° ìˆ˜ì§‘
                console.log('í¼ ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘');
                collectFormData();
                
                // ë°”ë¡œ ZIP ë‹¤ìš´ë¡œë“œ ì‹œì‘
                console.log('ZIP ë‹¤ìš´ë¡œë“œ ì‹œì‘');
                setTimeout(() => {
                    console.log('ZIP ë‹¤ìš´ë¡œë“œ ì‹¤í–‰');
                    hideLoading();
                    downloadAllAsZipDirect();
                    console.log('ZIP ë‹¤ìš´ë¡œë“œ ì™„ë£Œ');
                }, 1000);
                
            } catch (error) {
                console.error('processFormSubmission ì˜¤ë¥˜:', error);
                hideLoading();
                alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        // ì „ì²´ í¼ ìœ íš¨ì„± ê²€ì‚¬
        function validateForm() {
            const form = document.getElementById('orderForm');
            let isValid = true;
            
            console.log('ìœ íš¨ì„± ê²€ì‚¬ ì‹œì‘');
            
            try {
                // í•„ìˆ˜ í•„ë“œ ê²€ì‚¬ - ë¸Œëœë“œëª…ê³¼ ì»¨ì…‰ë§Œ ì²´í¬
                const brandName = document.getElementById('brandName').value.trim();
                const concept = document.getElementById('concept').value.trim();
                const contact = document.getElementById('contact').value.trim();
                
                console.log('ì…ë ¥ê°’ í™•ì¸:', { brandName, concept, contact });
                
                if (!brandName) {
                    console.log('ë¸Œëœë“œëª… ëˆ„ë½');
                    alert('ë¸Œëœë“œëª…ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                    isValid = false;
                }
                
                if (!concept) {
                    console.log('ì»¨ì…‰ ëˆ„ë½');
                    alert('ì œì‘ ì»¨ì…‰ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                    isValid = false;
                }
                
                if (!contact) {
                    console.log('ì—°ë½ì²˜ ëˆ„ë½');
                    alert('ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                    isValid = false;
                }
                
                // ì„±ë³„ ì„ íƒ ê²€ì‚¬
                const genderSelected = form.querySelector('input[name="gender"]:checked');
                console.log('ì„ íƒëœ ì„±ë³„:', genderSelected ? genderSelected.value : 'ì—†ìŒ');
                if (!genderSelected) {
                    console.log('ì„±ë³„ ì„ íƒ ëˆ„ë½');
                    alert('ëª¨ë¸ ì„±ë³„ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                    isValid = false;
                }
                
                // ì¸ì¢… ì„ íƒ ê²€ì‚¬
                const raceSelected = form.querySelector('input[name="race"]:checked');
                console.log('ì„ íƒëœ ì¸ì¢…:', raceSelected ? raceSelected.value : 'ì—†ìŒ');
                if (!raceSelected) {
                    console.log('ì¸ì¢… ì„ íƒ ëˆ„ë½');
                    alert('ëª¨ë¸ ì¸ì¢…ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                    isValid = false;
                }
                
                // ì´ë¯¸ì§€ ì—…ë¡œë“œëŠ” ì„ íƒì‚¬í•­ìœ¼ë¡œ ë³€ê²½
                console.log('ìœ íš¨ì„± ê²€ì‚¬ ê²°ê³¼:', isValid);
                
                return isValid;
                
            } catch (error) {
                console.error('ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜:', error);
                alert('ìœ íš¨ì„± ê²€ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
                return false;
            }
        }

        // í¼ ë°ì´í„° ìˆ˜ì§‘
        function collectFormData() {
            const form = document.getElementById('orderForm');
            const formData = new FormData(form);
            
            console.log('ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘');
            
            orderData = {
                brandName: formData.get('brandName') || '',
                concept: formData.get('concept') || '',
                gender: formData.get('gender') || '',
                race: formData.get('race') || '',
                locations: getSelectedLocations(),
                customLocation: formData.get('customLocation') || '',
                contact: formData.get('contact') || '',
                additionalRequest: formData.get('additionalRequest') || '',
                images: uploadedImages || [],
                timestamp: new Date().toLocaleString('ko-KR')
            };
            
            console.log('ìˆ˜ì§‘ëœ ë°ì´í„°:', orderData);
        }

        // ì„ íƒëœ ì¥ì†Œ ê°€ì ¸ì˜¤ê¸°
        function getSelectedLocations() {
            const locations = [];
            document.querySelectorAll('input[name="location"]:checked').forEach(input => {
                locations.push(input.value);
            });
            return locations;
        }

        // ë¡œë”© í‘œì‹œ
        function showLoading() {
            const button = document.querySelector('button[type="submit"]');
            const originalText = button.innerHTML;
            button.innerHTML = '<div class="loading-spinner mx-auto"></div>';
            button.disabled = true;
            button.dataset.originalText = originalText;
        }

        // ë¡œë”© ìˆ¨ê¹€
        function hideLoading() {
            const button = document.querySelector('button[type="submit"]');
            button.innerHTML = button.dataset.originalText;
            button.disabled = false;
        }

        // ê²°ê³¼ ëª¨ë‹¬ í‘œì‹œ
        function showResultModal() {
            const modal = document.getElementById('resultModal');
            
            // ì—…ë¡œë“œëœ ì´ë¯¸ì§€ë“¤ì„ ëª¨ë‹¬ì— ë¯¸ë¦¬ë³´ê¸°ë¡œ í‘œì‹œ
            displayModalImagePreview();
            
            modal.classList.remove('hidden');
            modal.classList.add('flex', 'modal-enter');
            
            // ì²´í¬ ì•„ì´ì½˜ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                const checkIcon = modal.querySelector('.fa-check-circle');
                checkIcon.classList.add('check-animation');
            }, 100);
        }

        // ëª¨ë‹¬ì— ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ (ê¸°ì¡´ ëª¨ë‹¬ì— ì¶”ê°€ë  ë‚´ìš©)
        function displayModalImagePreview() {
            // ëª¨ë‹¬ ë‚´ìš©ì— ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ ì¶”ê°€
            const modal = document.getElementById('resultModal');
            const modalContent = modal.querySelector('div > div');
            
            let imagePreviewHtml = '';
            
            if (orderData.images && orderData.images.length > 0) {
                imagePreviewHtml = `
                    <div class="mb-6 p-4 bg-gray-50 rounded-lg" id="modalImagePreview">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-semibold text-gray-700">ğŸ“¸ ì—…ë¡œë“œëœ ìƒí’ˆì‚¬ì§„ (${orderData.images.length}ì¥)</h4>
                            <button onclick="downloadImagesOnlyAsZip()" class="bg-purple-500 text-white px-3 py-1 rounded text-sm hover:bg-purple-600 transition-colors">
                                <i class="fas fa-images mr-1"></i>ì´ë¯¸ì§€ë§Œ ZIP
                            </button>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                            ${orderData.images.map((imgData, index) => `
                                <div class="text-center bg-white p-2 rounded border">
                                    <img src="${imgData.url}" alt="${imgData.name}" class="w-full h-16 object-cover rounded cursor-pointer" onclick="downloadSingleImage(${index})">
                                    <p class="text-xs text-gray-500 mt-1 truncate">${imgData.name}</p>
                                    <button onclick="downloadSingleImage(${index})" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mt-1 hover:bg-blue-600 transition-colors">
                                        <i class="fas fa-download mr-1"></i>ê°œë³„ ë‹¤ìš´ë¡œë“œ
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                        <p class="text-sm text-indigo-600 mt-3 text-center">ğŸ’¡ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ ëˆŒëŸ¬ ê°œë³„ ì €ì¥ ê°€ëŠ¥</p>
                    </div>
                `;
            } else {
                imagePreviewHtml = `
                    <div class="mb-4 p-4 bg-gray-50 rounded-lg" id="modalImagePreview">
                        <p class="text-gray-500 text-center">ì—…ë¡œë“œëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
            }
            
            // ê¸°ì¡´ ë‚´ìš©ì— ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì¶”ê°€
            const existingImagePreview = document.getElementById('modalImagePreview');
            if (existingImagePreview) {
                existingImagePreview.remove();
            }
            
            // ë²„íŠ¼ë“¤ ì•ì— ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì‚½ì…
            const buttonContainer = modalContent.querySelector('.space-y-3');
            buttonContainer.insertAdjacentHTML('beforebegin', imagePreviewHtml);
        }

        // ì‘ì—…ì§€ì‹œì„œ HTML íŒŒì¼ë§Œ ë‹¤ìš´ë¡œë“œ (ì´ë¯¸ì§€ëŠ” HTML ë‚´ ì„ë² ë””ë“œ)
        async function downloadAllAsZipDirect() {
            try {
                console.log('ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜ ì‹œì‘');
                
                if (!orderData) {
                    alert('âŒ ì‘ì—…ì§€ì‹œì„œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
                    return;
                }
                
                const timestamp = new Date().toISOString().slice(0, 10);
                const brandName = orderData.brandName || 'unnamed';
                
                // ì‘ì—…ì§€ì‹œì„œ HTML íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ì´ë¯¸ì§€ í¬í•¨)
                console.log('ì‘ì—…ì§€ì‹œì„œ HTML íŒŒì¼ ìƒì„±');
                const htmlContent = createOrderSummaryHTML();
                const htmlBlob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                const htmlFileName = `ëˆìŠ¤íŠœë””ì˜¤_ì‘ì—…ì§€ì‹œì„œ_${brandName}_${timestamp}.html`;
                
                // HTML íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                const htmlLink = document.createElement('a');
                htmlLink.href = URL.createObjectURL(htmlBlob);
                htmlLink.download = htmlFileName;
                document.body.appendChild(htmlLink);
                htmlLink.click();
                document.body.removeChild(htmlLink);
                
                console.log('HTML íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ:', htmlFileName);
                
                // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                const imageCount = orderData.images ? orderData.images.length : 0;
                
                alert(`âœ… ì‘ì—…ì§€ì‹œì„œ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ!

ğŸ“„ ë‹¤ìš´ë¡œë“œëœ íŒŒì¼: ${htmlFileName}
${imageCount > 0 ? `ğŸ–¼ï¸ ì´ë¯¸ì§€ ${imageCount}ì¥ì´ HTML íŒŒì¼ì— í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤` : 'ğŸ“¸ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤'}

ğŸ’¡ ì‚¬ìš© ë°©ë²•:
â€¢ HTML íŒŒì¼ì„ ë”ë¸”í´ë¦­í•˜ë©´ ì‘ì—…ì§€ì‹œì„œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤
â€¢ ì´ë¯¸ì§€ë„ í•¨ê»˜ ë³¼ ìˆ˜ ìˆìœ¼ë©° ë¸Œë¼ìš°ì €ì—ì„œ ì˜¤ë¥¸ìª½ í´ë¦­ìœ¼ë¡œ ì €ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤
â€¢ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì‘ì—…ì§€ì‹œì„œë¥¼ ê³µìœ í•´ ì£¼ì„¸ìš”!`);
                
            } catch (error) {
                console.error('ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
                alert('ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        }

        // ì•Œë¦¼ ëª¨ë‹¬ í‘œì‹œ
        function showNotification(title, message, iconClass = 'fa-check-circle', iconColor = 'text-green-500') {
            const modal = document.getElementById('notificationModal');
            const icon = document.getElementById('notificationIcon');
            const titleEl = document.getElementById('notificationTitle');
            const messageEl = document.getElementById('notificationMessage');
            
            icon.className = `fas ${iconClass} text-5xl ${iconColor} mb-4`;
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            modal.classList.remove('hidden');
            modal.classList.add('flex', 'modal-enter');
        }
        
        // ì•Œë¦¼ ëª¨ë‹¬ ë‹«ê¸°
        function closeNotification() {
            const modal = document.getElementById('notificationModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex', 'modal-enter');
        }

        // ë§í¬ ë³µì‚¬ ê¸°ëŠ¥
        function sendToKakao() {
            // ì£¼ë¬¸ ë°ì´í„°ë¥¼ Base64ë¡œ ì¸ì½”ë”©í•˜ì—¬ URLì— í¬í•¨
            const encodedData = encodeOrderDataToURL();
            
            // GitHub Pages URLì„ ì‚¬ìš© (í™˜ê²½ì— ë”°ë¼ ìë™ ê°ì§€)
            const baseUrl = getBaseUrl();
            const shareUrl = `${baseUrl}#data=${encodedData}`;
            
            console.log('ìƒì„±ëœ ê³µìœ  ë§í¬:', shareUrl);
            
            // ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬
            copyLinkToClipboard(shareUrl);
        }
        
        // ê¸°ë³¸ URL ê°€ì ¸ì˜¤ê¸° (GitHub Pages ìš°ì„ )
        function getBaseUrl() {
            console.log('í˜„ì¬ í˜¸ìŠ¤íŠ¸ëª…:', window.location.hostname);
            console.log('í˜„ì¬ ì „ì²´ URL:', window.location.href);
            
            // GitHub Pages URLì´ ìˆëŠ” ê²½ìš° ìš°ì„  ì‚¬ìš©
            if (window.location.hostname.includes('github.io')) {
                const fullUrl = `https://${window.location.hostname}${window.location.pathname}`;
                console.log('GitHub Pages URL ì‚¬ìš©:', fullUrl);
                return fullUrl;
            }
            
            // ë¡œì»¬ ê°œë°œ í™˜ê²½ì´ë‚˜ ë‹¤ë¥¸ í˜¸ìŠ¤íŒ…ì—ì„œ GitHub Pages URL ì‚¬ìš©
            const githubPagesUrl = 'https://wonchoiii.github.io/github.io-worksheet/';
            console.log('ê¸°ë³¸ GitHub Pages URL ì‚¬ìš©:', githubPagesUrl);
            
            return githubPagesUrl;
        }
        
        // ì£¼ë¬¸ ë°ì´í„°ë¥¼ URLì— ì¸ì½”ë”© (ì´ë¯¸ì§€ ì œì™¸)
        function encodeOrderDataToURL() {
            // ì´ë¯¸ì§€ëŠ” ë„ˆë¬´ ì»¤ì„œ URLì— í¬í•¨í•˜ì§€ ì•Šê³ , í…ìŠ¤íŠ¸ ì •ë³´ë§Œ í¬í•¨
            const dataToEncode = {
                brandName: orderData.brandName || '',
                concept: orderData.concept || '',
                gender: orderData.gender || '',
                race: orderData.race || '',
                locations: orderData.locations || [],
                customLocation: orderData.customLocation || '',
                contact: orderData.contact || '',
                additionalRequest: orderData.additionalRequest || '',
                imageCount: (orderData.images && orderData.images.length > 0) ? orderData.images.length : 0,
                imageNames: (orderData.images && orderData.images.length > 0) ? 
                    orderData.images.map(img => img.name) : [],
                timestamp: orderData.timestamp || new Date().toLocaleString('ko-KR')
            };
            
            console.log('ì¸ì½”ë”©í•  ë°ì´í„° (ì´ë¯¸ì§€ ì œì™¸):', dataToEncode);
            
            try {
                // JSONì„ ë¬¸ìì—´ë¡œ ë³€í™˜ í›„ Base64ë¡œ ì¸ì½”ë”©
                const jsonString = JSON.stringify(dataToEncode);
                const encoded = btoa(encodeURIComponent(jsonString));
                
                console.log('JSON ê¸¸ì´:', jsonString.length);
                console.log('ì¸ì½”ë”©ëœ ë°ì´í„° ê¸¸ì´:', encoded.length);
                
                // URL ê¸¸ì´ ê²€ì¦ (2000ì ë¯¸ë§Œ)
                if (encoded.length > 2000) {
                    console.warn('ì¸ì½”ë”©ëœ ë°ì´í„°ê°€ ì—¬ì „íˆ í½ë‹ˆë‹¤:', encoded.length, 'ë¬¸ì');
                    alert('âš ï¸ ì…ë ¥ëœ ì •ë³´ê°€ ë„ˆë¬´ ë§ì•„ì„œ ë§í¬ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\ní…ìŠ¤íŠ¸ë¥¼ ì¤„ì—¬ì„œ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
                    return '';
                }
                
                return encoded;
            } catch (error) {
                console.error('ë°ì´í„° ì¸ì½”ë”© ì˜¤ë¥˜:', error);
                alert('ë°ì´í„° ì¸ì½”ë”© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
                return '';
            }
        }
        

        


        // ëª¨ë°”ì¼ ê¸°ê¸° ê°ì§€
        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }



        // ê³µìœ ëœ ë°ì´í„° í™•ì¸ ë° í‘œì‹œ
        function checkForSharedData() {
            const hash = window.location.hash;
            if (hash.startsWith('#data=')) {
                const encodedData = hash.substring(6);
                try {
                    const jsonString = decodeURIComponent(atob(encodedData));
                    const sharedData = JSON.parse(jsonString);
                    displaySharedOrderData(sharedData);
                } catch (error) {
                    console.error('ê³µìœ  ë°ì´í„° ë””ì½”ë”© ì˜¤ë¥˜:', error);
                }
            }
        }
        
        // ê³µìœ ëœ ì£¼ë¬¸ ë°ì´í„° í‘œì‹œ
        function displaySharedOrderData(data) {
            // í¼ì„ ìˆ¨ê¸°ê³  ê³µìœ  ë°ì´í„° í‘œì‹œ ì˜ì—­ ìƒì„±
            document.querySelector('.bg-white.rounded-2xl').style.display = 'none';
            
            const sharedContainer = document.createElement('div');
            sharedContainer.className = 'bg-white rounded-2xl shadow-xl overflow-hidden';
            sharedContainer.innerHTML = `
                <div class="bg-gradient-to-r from-green-500 to-teal-600 px-8 py-6">
                    <h2 class="text-2xl font-bold text-white flex items-center">
                        <i class="fas fa-file-alt mr-3"></i>
                        ê³µìœ ëœ ì‘ì—…ì§€ì‹œì„œ
                    </h2>
                    <p class="text-green-100 mt-2">ì‘ì—…ì§€ì‹œì„œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
                </div>
                
                <div class="p-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">ğŸ“‹ ê¸°ë³¸ ì •ë³´</h3>
                            <div class="space-y-2">
                                <p><strong>ë¸Œëœë“œëª…:</strong> ${data.brandName}</p>
                                <p><strong>ëª¨ë¸:</strong> ${data.gender} / ${data.race}</p>
                                <p><strong>ì—°ë½ì²˜:</strong> ${data.contact}</p>
                                <p><strong>ì‘ì„±ì¼ì‹œ:</strong> ${data.timestamp}</p>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">ğŸ“ ì´¬ì˜ ì •ë³´</h3>
                            <div class="space-y-2">
                                <p><strong>ì´¬ì˜ ì¥ì†Œ:</strong> ${data.locations ? data.locations.join(', ') : '-'}${data.customLocation ? ` (${data.customLocation})` : ''}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">ğŸ’¡ ì œì‘ ì»¨ì…‰</h3>
                        <p class="bg-gray-50 p-4 rounded-lg">${data.concept}</p>
                    </div>
                    
                    ${data.additionalRequest ? `
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-gray-700 mb-2">ğŸ’¬ ì¶”ê°€ ìš”ì²­ì‚¬í•­</h3>
                            <p class="bg-gray-50 p-4 rounded-lg">${data.additionalRequest}</p>
                        </div>
                    ` : ''}
                    
                    ${data.imageCount && data.imageCount > 0 ? `
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">ğŸ“¸ ì²¨ë¶€ëœ ìƒí’ˆì‚¬ì§„ ì •ë³´</h3>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p><strong>ì—…ë¡œë“œëœ ì´ë¯¸ì§€:</strong> ${data.imageCount}ì¥</p>
                                ${data.imageNames && data.imageNames.length > 0 ? `
                                    <div class="mt-2">
                                        <p><strong>íŒŒì¼ëª…:</strong></p>
                                        <ul class="list-disc list-inside mt-1 text-sm text-gray-600">
                                            ${data.imageNames.map(name => `<li>${name}</li>`).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                                <p class="text-sm text-orange-600 mt-2">ğŸ’¡ ì‹¤ì œ ì´ë¯¸ì§€ëŠ” ë§í¬ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë³„ë„ë¡œ ì „ì†¡í•´ ì£¼ì„¸ìš”.</p>
                            </div>
                        </div>
                    ` : `
                        <div class="mb-6">
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <p class="text-gray-500">ì—…ë¡œë“œëœ ìƒí’ˆì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    `}
                    
                    <div class="text-center pt-6 border-t">
                        <button onclick="location.reload()" class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ì‘ì—…ì§€ì‹œì„œ ì‘ì„±í•˜ê¸°
                        </button>
                    </div>
                </div>
            `;
            
            // ê¸°ì¡´ í¼ ì»¨í…Œì´ë„ˆ ë’¤ì— ì¶”ê°€
            document.querySelector('.container > .bg-white').parentNode.appendChild(sharedContainer);
            
            // ì „ì—­ ë³€ìˆ˜ì— ê³µìœ  ë°ì´í„° ì €ì¥
            window.sharedOrderData = data;
        }
        

        
        // ë§í¬ ë³µì‚¬ ì „ìš© í•¨ìˆ˜
        function copyLinkToClipboard(url) {
            // URL ê¸¸ì´ í™•ì¸ ë° í‘œì‹œ
            console.log('ë³µì‚¬í•  ë§í¬ ê¸¸ì´:', url.length);
            console.log('ë³µì‚¬í•  ë§í¬:', url);
            
            navigator.clipboard.writeText(url).then(() => {
                // ì„±ê³µì ìœ¼ë¡œ ë³µì‚¬ëœ ê²½ìš°
                showCopySuccessMessage(url);
            }).catch((error) => {
                console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', error);
                // í´ë°±: í…ìŠ¤íŠ¸ ì„ íƒ ë°©ì‹
                try {
                    const textArea = document.createElement('textarea');
                    textArea.value = url;
                    textArea.style.position = 'fixed';
                    textArea.style.left = '-999999px';
                    textArea.style.top = '-999999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    const successful = document.execCommand('copy');
                    document.body.removeChild(textArea);
                    
                    if (successful) {
                        showCopySuccessMessage(url);
                    } else {
                        showCopyFailureMessage(url);
                    }
                } catch (err) {
                    console.error('í´ë°± ë³µì‚¬ë„ ì‹¤íŒ¨:', err);
                    showCopyFailureMessage(url);
                }
            });
        }
        
        // ë³µì‚¬ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
        function showCopySuccessMessage(url) {
            const shortUrl = url.length > 80 ? url.substring(0, 80) + '...' : url;
            
            // í¬í•¨ëœ ë°ì´í„° ìš”ì•½
            const dataInfo = [];
            if (orderData.brandName) dataInfo.push('ë¸Œëœë“œ ì •ë³´');
            if (orderData.concept) dataInfo.push('ì»¨ì…‰ ì„¤ëª…');
            if (orderData.gender || orderData.race) dataInfo.push('ëª¨ë¸ ì •ë³´');
            if (orderData.contact) dataInfo.push('ì—°ë½ì²˜');
            if (orderData.images && orderData.images.length > 0) dataInfo.push(`ìƒí’ˆì‚¬ì§„ ì •ë³´ (${orderData.images.length}ì¥)`);
            
            const includesText = dataInfo.length > 0 ? `\n\nğŸ“¦ í¬í•¨ëœ ë‚´ìš©: ${dataInfo.join(', ')}` : '';
            
            alert(`âœ… ì‘ì—…ì§€ì‹œì„œ ê³µìœ  ë§í¬ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

ğŸ“‹ ë³µì‚¬ëœ ë§í¬: ${shortUrl}${includesText}

ğŸ’¡ ì‚¬ìš© ë°©ë²•:
â€¢ ì¹´ì¹´ì˜¤í†¡ì— ë§í¬ë¥¼ ë¶™ì—¬ë„£ê¸°í•˜ì—¬ ê³µìœ 
â€¢ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ì‘ì—…ì§€ì‹œì„œ ì •ë³´ë¥¼ í™•ì¸ ê°€ëŠ¥
â€¢ ìƒí’ˆì‚¬ì§„ì€ ë³„ë„ë¡œ ì „ì†¡í•´ ì£¼ì„¸ìš”

âš ï¸ ì°¸ê³ ì‚¬í•­:
â€¢ ë§í¬ì—ëŠ” í…ìŠ¤íŠ¸ ì •ë³´ë§Œ í¬í•¨ë©ë‹ˆë‹¤
â€¢ ì‹¤ì œ ì´ë¯¸ì§€ëŠ” íŒŒì¼ì´ ì»¤ì„œ ë§í¬ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤`);
        }
        
        // ë³µì‚¬ ì‹¤íŒ¨ ë©”ì‹œì§€ í‘œì‹œ
        function showCopyFailureMessage(url) {
            const shortUrl = url.length > 60 ? url.substring(0, 60) + '...' : url;
            alert(`âŒ ìë™ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.

ğŸ“‹ ì•„ë˜ ë§í¬ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì„œ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë³´ë‚´ì£¼ì„¸ìš”:

${url}

ğŸ’¡ ë§í¬ë¥¼ ê¸¸ê²Œ ëˆŒëŸ¬ì„œ ì „ì²´ ì„ íƒ í›„ ë³µì‚¬í•˜ì„¸ìš”.`);
        }


        

        
        // ì‘ì—…ì§€ì‹œì„œë¥¼ HTML í˜•íƒœë¡œ ìƒì„±
        function createOrderSummaryHTML() {
            const locations = orderData.locations ? orderData.locations.join(', ') : 'ì„ íƒì•ˆí•¨';
            const customLocation = orderData.customLocation ? ` (ê¸°íƒ€: ${orderData.customLocation})` : '';
            
            // ì´ë¯¸ì§€ ì„¹ì…˜ HTML ìƒì„±
            let imagesHTML = '';
            if (orderData.images && orderData.images.length > 0) {
                imagesHTML = `
                <div class="section-card">
                    <h2>ğŸ“¸ ì²¨ë¶€ëœ ìƒí’ˆì‚¬ì§„ (${orderData.images.length}ì¥)</h2>
                    <div class="image-grid">
                        ${orderData.images.map((img, index) => `
                            <div class="image-item">
                                <img src="${img.url}" alt="${img.name}" class="product-image">
                                <p class="image-name">${img.name}</p>
                                <p class="image-size">${formatFileSize(img.file.size)}</p>
                            </div>
                        `).join('')}
                    </div>
                    <p class="note">ğŸ’¡ ì‹¤ì œ ì´ë¯¸ì§€ íŒŒì¼ì€ ë³„ë„ë¡œ ë‹¤ìš´ë¡œë“œí•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
                </div>`;
            }
            
            return `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëˆìŠ¤íŠœë””ì˜¤ - AI í”¼íŒ… ì´¬ì˜ ì‘ì—…ì§€ì‹œì„œ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8fafc;
            margin: 0;
            padding: 20px;
            color: #334155;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
        }
        .header p {
            margin: 0.5rem 0 0;
            opacity: 0.9;
        }
        .content {
            padding: 2rem;
        }
        .section-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .section-card h2 {
            margin: 0 0 1rem;
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            border-bottom: 2px solid #6366f1;
            padding-bottom: 0.5rem;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        .info-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 0;
        }
        .info-label {
            font-weight: 500;
            margin-right: 0.5rem;
            color: #475569;
        }
        .info-value {
            color: #1e293b;
        }
        .concept-box {
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 1rem;
            margin-top: 0.5rem;
        }
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1rem 0;
        }
        .image-item {
            text-align: center;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }
        .image-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }
        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            border: 1px solid #d1d5db;
        }
        .product-image:hover {
            opacity: 0.9;
        }
        .image-name {
            font-size: 0.875rem;
            font-weight: 500;
            margin: 0.5rem 0 0.25rem;
            color: #374151;
        }
        .image-size {
            font-size: 0.75rem;
            color: #6b7280;
            margin: 0;
        }
        .note {
            font-size: 0.875rem;
            color: #6366f1;
            background: #eef2ff;
            padding: 0.75rem;
            border-radius: 6px;
            margin-top: 1rem;
        }
        .footer {
            background: #1e293b;
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        .footer p {
            margin: 0.25rem 0;
        }
        @media (max-width: 640px) {
            .container { margin: 10px; }
            .header { padding: 1.5rem; }
            .content { padding: 1rem; }
            .info-grid { grid-template-columns: 1fr; }
            .image-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¬ ëˆìŠ¤íŠœë””ì˜¤</h1>
            <p>AI í”¼íŒ… ì´¬ì˜ ì‘ì—…ì§€ì‹œì„œ</p>
            <p style="font-size: 0.875rem;">ì‘ì„±ì¼ì‹œ: ${orderData.timestamp}</p>
        </div>
        
        <div class="content">
            <div class="section-card">
                <h2>ğŸ“‹ ê¸°ë³¸ ì •ë³´</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">ë¸Œëœë“œëª…:</span>
                        <span class="info-value">${orderData.brandName || '-'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ì—°ë½ì²˜:</span>
                        <span class="info-value">${orderData.contact || '-'}</span>
                    </div>
                </div>
            </div>
            
            <div class="section-card">
                <h2>ğŸ’¡ ì œì‘ ì»¨ì…‰</h2>
                <div class="concept-box">
                    ${(orderData.concept || 'ë‚´ìš© ì—†ìŒ').replace(/\n/g, '<br>')}
                </div>
            </div>
            
            <div class="section-card">
                <h2>ğŸ‘¥ ëª¨ë¸ ì •ë³´</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">ì„±ë³„:</span>
                        <span class="info-value">${orderData.gender || '-'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">ì¸ì¢…:</span>
                        <span class="info-value">${orderData.race || '-'}</span>
                    </div>
                </div>
            </div>
            
            <div class="section-card">
                <h2>ğŸ“ ì´¬ì˜ ì •ë³´</h2>
                <div class="info-item">
                    <span class="info-label">ì´¬ì˜ ì¥ì†Œ:</span>
                    <span class="info-value">${locations}${customLocation}</span>
                </div>
            </div>
            
            ${orderData.additionalRequest ? `
            <div class="section-card">
                <h2>ğŸ’¬ ì¶”ê°€ ìš”ì²­ì‚¬í•­</h2>
                <div class="concept-box">
                    ${orderData.additionalRequest.replace(/\n/g, '<br>')}
                </div>
            </div>
            ` : ''}
            
            ${imagesHTML}
        </div>
        
        <div class="footer">
            <p><strong>Â© 2024 ëˆìŠ¤íŠœë””ì˜¤ - AI í”¼íŒ… ì´¬ì˜ ì„œë¹„ìŠ¤</strong></p>
            <p>ì¹´ì¹´ì˜¤í†¡ ì±„ë„: @kkeunstudio</p>
        </div>
    </div>
</body>
</html>`;
        }
        
        // íŒŒì¼ í¬ê¸° í¬ë§·íŒ… í•¨ìˆ˜
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // ì´ë¯¸ì§€ ì „ì²´ í¬ê¸°ë¡œ ë³´ê¸° ê¸°ëŠ¥
        function viewFullImage(imageSrc, imageName) {
            // ëª¨ë‹¬ ìƒì„±
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';
            modal.onclick = function() {
                document.body.removeChild(modal);
            };
            
            modal.innerHTML = `
                <div class="max-w-4xl max-h-full p-4">
                    <div class="relative">
                        <img src="${imageSrc}" alt="${imageName}" class="max-w-full max-h-screen object-contain rounded-lg">
                        <button onclick="event.stopPropagation(); document.body.removeChild(this.closest('.fixed'))" 
                                class="absolute top-4 right-4 bg-white text-black rounded-full w-10 h-10 flex items-center justify-center hover:bg-gray-200 transition-colors">
                            <i class="fas fa-times text-lg"></i>
                        </button>
                        <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-4 rounded-b-lg">
                            <p class="text-center font-medium">${imageName}</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // í´ë¦½ë³´ë“œì— ë³µì‚¬ (ê¸°ì¡´ í•¨ìˆ˜ ìœ ì§€)
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('ğŸ“‹ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nğŸ’¡ ì¹´ì¹´ì˜¤í†¡ì„ ì—´ì–´ì„œ ì›í•˜ëŠ” ëŒ€í™”ë°©ì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
            }).catch(() => {
                // í´ë°±: í…ìŠ¤íŠ¸ ì„ íƒ
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ğŸ“‹ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nğŸ’¡ ì¹´ì¹´ì˜¤í†¡ì„ ì—´ì–´ì„œ ì›í•˜ëŠ” ëŒ€í™”ë°©ì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
            });
        }






    </script>
</body>
</html><!-- Updated Thu Sep 18 15:00:00 UTC 2025 -->
<!-- Cache busted: 2025091815 -->
