<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëˆìŠ¤íŠœë””ì˜¤ - AI í”¼íŒ… ì´¬ì˜ ì‘ì—…ì§€ì‹œì„œ</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <!-- ì¹´ì¹´ì˜¤í†¡ SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js" integrity="sha384-TiCUE00h649CAMonG018J2ujOgDKW/kVWlChEuu4jK2vxfAAD0eZxzCKakxg55G4" crossorigin="anonymous"></script>

    <style>
        /* ì»¤ìŠ¤í…€ CSS */
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }

        .font-noto {
            font-family: 'Noto Sans KR', sans-serif;
        }

        /* ë¼ë””ì˜¤ ë²„íŠ¼ ë° ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ë§ */
        .gender-option:has(input:checked),
        .race-option:has(input:checked),
        .location-option:has(input:checked) {
            @apply border-indigo-500 bg-indigo-50;
        }

        .gender-option:has(input:checked) i,
        .race-option:has(input:checked) span,
        .location-option:has(input:checked) span {
            @apply text-indigo-600;
        }

        /* íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­ í˜¸ë²„ íš¨ê³¼ */
        .file-upload-area:hover {
            @apply border-indigo-400 bg-indigo-50;
        }

        /* ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ìŠ¤íƒ€ì¼ */
        .image-preview-item {
            @apply relative rounded-lg overflow-hidden shadow-md;
        }

        .image-preview-item img {
            @apply w-full h-24 object-cover;
        }

        .image-preview-item .remove-btn {
            @apply absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs cursor-pointer hover:bg-red-600;
        }

        /* í¼ ì• ë‹ˆë©”ì´ì…˜ */
        .form-group {
            @apply transform transition-all duration-200;
        }

        .form-group:hover {
            @apply translate-y-[-2px];
        }

        /* ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ */
        button {
            @apply transition-all duration-200;
        }

        /* ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜ */
        .modal-enter {
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í„°ë§ˆì´ì§• */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ ê°œì„  */
        @media (max-width: 768px) {
            .container {
                @apply px-2;
            }
            
            .form-group label {
                @apply text-xs;
            }
            
            .gender-option,
            .race-option,
            .location-option {
                @apply p-2 text-sm;
            }
            
            .gender-option i {
                @apply text-xl mb-1;
            }
            
            /* ëª¨ë°”ì¼ì—ì„œ ê·¸ë¦¬ë“œ ì¡°ì • */
            .grid.grid-cols-3 {
                @apply grid-cols-1;
            }
            
            .grid.grid-cols-2.md\\:grid-cols-4 {
                @apply grid-cols-2;
            }
            
            .grid.grid-cols-2.md\\:grid-cols-3 {
                @apply grid-cols-2;
            }
            
            /* ëª¨ë°”ì¼ í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
            h1 {
                @apply text-2xl;
            }
            
            h2 {
                @apply text-xl;
            }
            
            /* ëª¨ë°”ì¼ ë²„íŠ¼ í¬ê¸° ì¡°ì • */
            button[type="submit"] {
                @apply py-3 text-sm;
            }
            
            /* ëª¨ë°”ì¼ ì…ë ¥ í•„ë“œ ì¡°ì • */
            input, textarea, select {
                @apply text-base py-2;
            }
            
            /* ëª¨ë°”ì¼ ëª¨ë‹¬ ì¡°ì • */
            #resultModal > div {
                @apply mx-2 max-w-sm;
            }
        }

        @media (max-width: 480px) {
            /* ì´ˆì†Œí˜• í™”ë©´ ëŒ€ì‘ */
            .gender-option,
            .race-option,
            .location-option {
                @apply p-1 text-xs;
            }
            
            .gender-option i {
                @apply text-lg;
            }
            
            .grid.grid-cols-2 {
                @apply grid-cols-1;
            }
            
            /* í—¤ë” ì•„ì´ì½˜ í¬ê¸° ì¡°ì • */
            .fa-camera-retro {
                @apply text-4xl;
            }
            
            /* í¼ íŒ¨ë”© ì¡°ì • */
            .bg-white.rounded-2xl > form {
                @apply p-4;
            }
            
            .bg-gradient-to-r.from-indigo-500 {
                @apply px-4 py-4;
            }
        }

        /* í…Œë¸”ë¦¿ ìµœì í™” */
        @media (min-width: 768px) and (max-width: 1024px) {
            .container {
                @apply px-4;
            }
            
            .grid.grid-cols-2.md\\:grid-cols-4 {
                @apply grid-cols-3;
            }
        }

        /* ì²´í¬ í‘œì‹œ ì• ë‹ˆë©”ì´ì…˜ */
        .check-animation {
            animation: checkBounce 0.6s ease-in-out;
        }

        @keyframes checkBounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
        .loading-spinner {
            @apply animate-spin rounded-full h-8 w-8 border-b-2 border-white;
        }

        /* ê·¸ë˜ë””ì–¸íŠ¸ í…ìŠ¤íŠ¸ */
        .gradient-text {
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ì¹´ë“œ í˜¸ë²„ íš¨ê³¼ */
        .card-hover {
            @apply transition-all duration-300 hover:shadow-2xl hover:-translate-y-1;
        }

        /* ìŠ¤íƒ€ì¼ ë³´ì™„ - ì„ íƒëœ ì˜µì…˜ ìŠ¤íƒ€ì¼ */
        .gender-option.selected,
        .race-option.selected,
        .location-option.selected {
            border-color: #6366f1 !important;
            background-color: #eef2ff !important;
        }

        .gender-option.selected i,
        .race-option.selected span,
        .location-option.selected span {
            color: #6366f1 !important;
        }

        /* ëª¨ë‹¬ ìŠ¤í¬ë¡¤ ìµœì í™” */
        .max-h-90vh {
            max-height: 90vh;
        }
        
        /* ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ê·¸ë¦¬ë“œ ê°œì„  */
        #modalImagePreview img {
            transition: transform 0.2s ease;
        }
        
        #modalImagePreview img:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-100 min-h-screen font-noto">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- í—¤ë” -->
        <div class="text-center mb-8">
            <div class="mb-4">
                <i class="fas fa-camera-retro text-6xl text-indigo-600 mb-4"></i>
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-2">ëˆìŠ¤íŠœë””ì˜¤</h1>
            <p class="text-xl text-gray-600 mb-1">AI í”¼íŒ… ì´¬ì˜ ì„œë¹„ìŠ¤</p>
            <p class="text-sm text-gray-500">@kkeunstudio</p>
        </div>

        <!-- ì‘ì—…ì§€ì‹œì„œ í¼ -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-600 px-8 py-6">
                <h2 class="text-2xl font-bold text-white flex items-center">
                    <i class="fas fa-clipboard-list mr-3"></i>
                    ì‘ì—…ì§€ì‹œì„œ
                </h2>
                <p class="text-indigo-100 mt-2">ì›í•˜ì‹œëŠ” AI í”¼íŒ… ì´¬ì˜ì„ ìœ„í•´ ì•„ë˜ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”</p>
            </div>

            <form id="orderForm" class="p-8 space-y-6">
                <!-- ë¸Œëœë“œëª… -->
                <div class="form-group">
                    <label for="brandName" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-tag mr-2 text-indigo-500"></i>ë¸Œëœë“œëª… *
                    </label>
                    <input type="text" id="brandName" name="brandName" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                           placeholder="ì˜ˆ: ëˆìŠ¤íŠœë””ì˜¤">
                </div>

                <!-- ì œì‘ ì»¨ì…‰ -->
                <div class="form-group">
                    <label for="concept" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-lightbulb mr-2 text-indigo-500"></i>ì œì‘í•˜ê³  ì‹¶ì€ ì»¨ì…‰ *
                    </label>
                    <textarea id="concept" name="concept" required rows="3"
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                              placeholder="ì˜ˆ: ìºì£¼ì–¼í•œ ì¼ìƒë£©, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ì˜¤í”¼ìŠ¤ë£©, íŠ¸ë Œë””í•œ ìŠ¤íŠ¸ë¦¿íŒ¨ì…˜ ë“±"></textarea>
                </div>

                <!-- ëª¨ë¸ ì„±ë³„ -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-users mr-2 text-indigo-500"></i>ëª¨ë¸ ì„±ë³„ *
                    </label>
                    <div class="grid grid-cols-3 gap-4">
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors gender-option">
                            <input type="radio" name="gender" value="ì—¬ì„±" class="sr-only">
                            <div class="flex flex-col items-center w-full">
                                <i class="fas fa-female text-2xl text-pink-500 mb-2"></i>
                                <span class="font-medium">ì—¬ì„±</span>
                            </div>
                        </label>
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors gender-option">
                            <input type="radio" name="gender" value="ë‚¨ì„±" class="sr-only">
                            <div class="flex flex-col items-center w-full">
                                <i class="fas fa-male text-2xl text-blue-500 mb-2"></i>
                                <span class="font-medium">ë‚¨ì„±</span>
                            </div>
                        </label>
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors gender-option">
                            <input type="radio" name="gender" value="ë¬´ê´€" class="sr-only">
                            <div class="flex flex-col items-center w-full">
                                <i class="fas fa-genderless text-2xl text-gray-500 mb-2"></i>
                                <span class="font-medium">ë¬´ê´€</span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- ëª¨ë¸ ì¸ì¢… -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-globe mr-2 text-indigo-500"></i>ëª¨ë¸ ì¸ì¢… *
                    </label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="ë™ì–‘ì¸" class="sr-only">
                            <span class="font-medium text-center w-full">ë™ì–‘ì¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="ë°±ì¸" class="sr-only">
                            <span class="font-medium text-center w-full">ë°±ì¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="í‘ì¸" class="sr-only">
                            <span class="font-medium text-center w-full">í‘ì¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors race-option">
                            <input type="radio" name="race" value="ë¬´ê´€" class="sr-only">
                            <span class="font-medium text-center w-full">ë¬´ê´€</span>
                        </label>
                    </div>
                </div>

                <!-- ì´¬ì˜ ì¥ì†Œ/ë°°ê²½ -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-3">
                        <i class="fas fa-map-marker-alt mr-2 text-indigo-500"></i>ì´¬ì˜ ì¥ì†Œ/ë°°ê²½
                    </label>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ìŠ¤íŠœë””ì˜¤" class="sr-only">
                            <span class="font-medium text-center w-full">ìŠ¤íŠœë””ì˜¤</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ì•¼ì™¸" class="sr-only">
                            <span class="font-medium text-center w-full">ì•¼ì™¸</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ì¹´í˜" class="sr-only">
                            <span class="font-medium text-center w-full">ì¹´í˜</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ê±°ë¦¬" class="sr-only">
                            <span class="font-medium text-center w-full">ê±°ë¦¬</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ì‚¬ë¬´ì‹¤" class="sr-only">
                            <span class="font-medium text-center w-full">ì‚¬ë¬´ì‹¤</span>
                        </label>
                        <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-indigo-300 transition-colors location-option">
                            <input type="checkbox" name="location" value="ê¸°íƒ€" class="sr-only">
                            <span class="font-medium text-center w-full">ê¸°íƒ€</span>
                        </label>
                    </div>
                    <input type="text" id="customLocation" name="customLocation" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors mt-3 hidden"
                           placeholder="ì›í•˜ì‹œëŠ” ì¥ì†Œë¥¼ ì§ì ‘ ì…ë ¥í•´ ì£¼ì„¸ìš”">
                </div>

                <!-- ìƒí’ˆ ì‚¬ì§„ ì—…ë¡œë“œ -->
                <div class="form-group">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-camera mr-2 text-indigo-500"></i>ìƒí’ˆ ì‚¬ì§„ (ì°©ìš©ì»· ê¶Œì¥) *
                    </label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-indigo-400 transition-colors">
                        <input type="file" id="productImages" name="productImages" multiple accept="image/*" class="hidden">
                        <label for="productImages" class="cursor-pointer">
                            <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 font-medium mb-2">í´ë¦­í•˜ì—¬ ì´ë¯¸ì§€ ì—…ë¡œë“œ</p>
                            <p class="text-sm text-gray-400">PNG, JPG, JPEG íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš” (ìµœëŒ€ 10MB)</p>
                        </label>
                    </div>
                    <div id="imagePreview" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 hidden"></div>
                </div>

                <!-- ì—°ë½ì²˜ -->
                <div class="form-group">
                    <label for="contact" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-phone mr-2 text-indigo-500"></i>ì—°ë½ì²˜ *
                    </label>
                    <input type="text" id="contact" name="contact" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                           placeholder="010-0000-0000">
                </div>

                <!-- ì¶”ê°€ ìš”ì²­ì‚¬í•­ -->
                <div class="form-group">
                    <label for="additionalRequest" class="block text-sm font-semibold text-gray-700 mb-2">
                        <i class="fas fa-comment-dots mr-2 text-indigo-500"></i>ì¶”ê°€ ìš”ì²­ì‚¬í•­
                    </label>
                    <textarea id="additionalRequest" name="additionalRequest" rows="3"
                              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"
                              placeholder="íŠ¹ë³„í•œ í¬ì¦ˆë‚˜ ë¶„ìœ„ê¸°, ê¸°íƒ€ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”"></textarea>
                </div>

                <!-- ì œì¶œ ë²„íŠ¼ -->
                <div class="pt-6">
                    <button type="submit" 
                            id="submitButton"
                            onclick="console.log('ë²„íŠ¼ í´ë¦­ - onclick ì´ë²¤íŠ¸'); handleFormSubmitDirect(event);"
                            class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold py-4 px-6 rounded-lg hover:from-indigo-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
                        <i class="fas fa-copy mr-2"></i>
                        ì‘ì—…ì§€ì‹œì„œ ì™„ë£Œ í›„ ë§í¬ ë³µì‚¬í•˜ê¸°
                    </button>
                </div>
            </form>
        </div>

        <!-- ê²°ê³¼ ëª¨ë‹¬ -->
        <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-2xl p-8 max-w-2xl mx-4 text-center max-h-90vh overflow-y-auto">
                <i class="fas fa-check-circle text-5xl text-green-500 mb-4"></i>
                <h3 class="text-2xl font-bold text-gray-800 mb-4">ì‘ì—…ì§€ì‹œì„œ ì™„ë£Œ!</h3>
                <p class="text-gray-600 mb-4">ì‘ì—…ì§€ì‹œì„œê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì „ì†¡í•´ ì£¼ì„¸ìš”!</p>
                
                <div class="space-y-3">
                    <button id="sendKakao" 
                            class="w-full bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-600 transition-colors">
                        <i class="fas fa-copy mr-2"></i>
                        ë§í¬ ë³µì‚¬í•˜ê¸°
                    </button>
                    <button id="closeModal" 
                            class="w-full bg-gray-200 text-gray-800 font-medium py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors">
                        ë‹«ê¸°
                    </button>
                </div>
            </div>
        </div>

        <!-- í‘¸í„° -->
        <div class="text-center mt-8 text-gray-500">
            <p class="text-sm">Â© 2024 ëˆìŠ¤íŠœë””ì˜¤ | AI í”¼íŒ… ì´¬ì˜ ì„œë¹„ìŠ¤</p>
            <p class="text-xs mt-1">ì¹´ì¹´ì˜¤í†¡ ì±„ë„: @kkeunstudio</p>
            <div class="mt-4">
                <a href="admin.html" class="text-xs text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-cog mr-1"></i>ê´€ë¦¬ì í˜ì´ì§€
                </a>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let orderData = {};
        let uploadedImages = [];

        // DOM ë¡œë“œ ì™„ë£Œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM ë¡œë“œ ì™„ë£Œ');
            initializeApp();
            checkForSharedData();
        });

        // ë°±ì—…: ìœˆë„ìš° ë¡œë“œ ì™„ë£Œ ì‹œì—ë„ ì‹¤í–‰ (DOMContentLoadedê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„)
        window.addEventListener('load', function() {
            console.log('ìœˆë„ìš° ë¡œë“œ ì™„ë£Œ');
            
            // í¼ì´ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë‹¤ì‹œ ì‹œë„
            const orderForm = document.getElementById('orderForm');
            if (orderForm && !orderForm.dataset.initialized) {
                console.log('í¼ ì¬ì´ˆê¸°í™” ì‹œë„');
                setupEventListeners();
                orderForm.dataset.initialized = 'true';
            }
        });

        // ì•± ì´ˆê¸°í™”
        function initializeApp() {
            console.log('ì•± ì´ˆê¸°í™” ì‹œì‘');
            
            // ì¹´ì¹´ì˜¤í†¡ SDK ì´ˆê¸°í™”
            if (typeof Kakao !== 'undefined') {
                Kakao.init('YOUR_KAKAO_APP_KEY'); // ì‹¤ì œ ì‚¬ìš©ì‹œì—ëŠ” ì¹´ì¹´ì˜¤ ê°œë°œìì„¼í„°ì—ì„œ ë°œê¸‰ë°›ì€ ì•± í‚¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”
                console.log('ì¹´ì¹´ì˜¤í†¡ SDK ì´ˆê¸°í™” ì™„ë£Œ:', Kakao.isInitialized());
            } else {
                console.log('ì¹´ì¹´ì˜¤í†¡ SDK ë¡œë“œë˜ì§€ ì•ŠìŒ');
            }
            
            setupEventListeners();
            setupFormValidation();
            setupImageUpload();
            setupCustomOptions();
            
            console.log('ì•± ì´ˆê¸°í™” ì™„ë£Œ');
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            console.log('ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì‹œì‘');
            
            // í¼ ì œì¶œ
            const orderForm = document.getElementById('orderForm');
            console.log('orderForm ìš”ì†Œ:', orderForm);
            
            if (orderForm) {
                orderForm.addEventListener('submit', handleFormSubmit);
                orderForm.dataset.initialized = 'true';
                console.log('í¼ ì œì¶œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ì™„ë£Œ');
                
                // ì¶”ê°€ ë””ë²„ê¹…: ì§ì ‘ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ë„ ì¶”ê°€
                const submitButton = orderForm.querySelector('button[type="submit"]');
                console.log('ì œì¶œ ë²„íŠ¼:', submitButton);
                
                if (submitButton) {
                    submitButton.addEventListener('click', function(e) {
                        console.log('ë²„íŠ¼ í´ë¦­ë¨ - ì´ë²¤íŠ¸ íƒ€ì…:', e.type);
                        // í¼ ì œì¶œì€ handleFormSubmitì—ì„œ ì²˜ë¦¬ë¨
                    });
                }
            } else {
                console.error('orderFormì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
            }
            
            // ëª¨ë‹¬ ê´€ë ¨
            const closeModalBtn = document.getElementById('closeModal');
            const sendKakaoBtn = document.getElementById('sendKakao');
            
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', closeModal);
                console.log('ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ì™„ë£Œ');
            }
            
            if (sendKakaoBtn) {
                sendKakaoBtn.addEventListener('click', sendToKakao);
                console.log('ì¹´ì¹´ì˜¤ ì „ì†¡ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ì™„ë£Œ');
            }
            
            // ë¼ë””ì˜¤ ë²„íŠ¼ ë° ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ë§
            setupOptionSelections();
        }

        // ì˜µì…˜ ì„ íƒ ìŠ¤íƒ€ì¼ë§ ì„¤ì •
        function setupOptionSelections() {
            // ì„±ë³„ ì„ íƒ
            document.querySelectorAll('input[name="gender"]').forEach(input => {
                input.addEventListener('change', function() {
                    document.querySelectorAll('.gender-option').forEach(option => {
                        option.classList.remove('selected', 'border-indigo-500', 'bg-indigo-50');
                    });
                    if (this.checked) {
                        this.closest('.gender-option').classList.add('selected', 'border-indigo-500', 'bg-indigo-50');
                    }
                });
            });
            
            // ì¸ì¢… ì„ íƒ
            document.querySelectorAll('input[name="race"]').forEach(input => {
                input.addEventListener('change', function() {
                    document.querySelectorAll('.race-option').forEach(option => {
                        option.classList.remove('selected', 'border-indigo-500', 'bg-indigo-50');
                    });
                    if (this.checked) {
                        this.closest('.race-option').classList.add('selected', 'border-indigo-500', 'bg-indigo-50');
                    }
                });
            });
            
            // ì¥ì†Œ ì„ íƒ (ë‹¤ì¤‘ ì„ íƒ)
            document.querySelectorAll('input[name="location"]').forEach(input => {
                input.addEventListener('change', function() {
                    const option = this.closest('.location-option');
                    if (this.checked) {
                        option.classList.add('selected', 'border-indigo-500', 'bg-indigo-50');
                        // "ê¸°íƒ€" ì„ íƒ ì‹œ ì…ë ¥ í•„ë“œ í‘œì‹œ
                        if (this.value === 'ê¸°íƒ€') {
                            document.getElementById('customLocation').classList.remove('hidden');
                        }
                    } else {
                        option.classList.remove('selected', 'border-indigo-500', 'bg-indigo-50');
                        // "ê¸°íƒ€" í•´ì œ ì‹œ ì…ë ¥ í•„ë“œ ìˆ¨ê¹€
                        if (this.value === 'ê¸°íƒ€') {
                            document.getElementById('customLocation').classList.add('hidden');
                            document.getElementById('customLocation').value = '';
                        }
                    }
                });
            });
        }

        // ì»¤ìŠ¤í…€ ì˜µì…˜ ì„¤ì •
        function setupCustomOptions() {
            // ê¸°íƒ€ ì¥ì†Œ ì…ë ¥ í•„ë“œ ì²˜ë¦¬ëŠ” ìœ„ì—ì„œ ì´ë¯¸ êµ¬í˜„ë¨
        }

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„¤ì •
        function setupImageUpload() {
            const fileInput = document.getElementById('productImages');
            const preview = document.getElementById('imagePreview');
            
            fileInput.addEventListener('change', function(e) {
                handleImageUpload(e.target.files);
            });
            
            // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê¸°ëŠ¥
            const uploadArea = fileInput.parentElement;
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                uploadArea.classList.add('border-indigo-400', 'bg-indigo-50');
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('border-indigo-400', 'bg-indigo-50');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                uploadArea.classList.remove('border-indigo-400', 'bg-indigo-50');
                handleImageUpload(e.dataTransfer.files);
            });
        }

        // ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
        function handleImageUpload(files) {
            const preview = document.getElementById('imagePreview');
            const maxFiles = 10;
            const maxSize = 10 * 1024 * 1024; // 10MB
            
            // íŒŒì¼ ìˆ˜ ì œí•œ
            if (uploadedImages.length + files.length > maxFiles) {
                alert(`ìµœëŒ€ ${maxFiles}ê°œì˜ ì´ë¯¸ì§€ë§Œ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`);
                return;
            }
            
            Array.from(files).forEach(file => {
                // íŒŒì¼ í¬ê¸° ì œí•œ
                if (file.size > maxSize) {
                    alert(`${file.name} íŒŒì¼ì´ ë„ˆë¬´ í½ë‹ˆë‹¤. 10MB ì´í•˜ì˜ íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.`);
                    return;
                }
                
                // ì´ë¯¸ì§€ íŒŒì¼ íƒ€ì… ê²€ì‚¬
                if (!file.type.startsWith('image/')) {
                    alert(`${file.name}ì€(ëŠ”) ì´ë¯¸ì§€ íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.`);
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageData = {
                        file: file,
                        url: e.target.result,
                        name: file.name
                    };
                    
                    uploadedImages.push(imageData);
                    addImagePreview(imageData, uploadedImages.length - 1);
                    
                    // ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ í‘œì‹œ
                    preview.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            });
        }

        // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì¶”ê°€
        function addImagePreview(imageData, index) {
            const preview = document.getElementById('imagePreview');
            const div = document.createElement('div');
            div.className = 'image-preview-item relative';
            div.innerHTML = `
                <img src="${imageData.url}" alt="${imageData.name}" class="w-full h-24 object-cover rounded-lg">
                <button type="button" class="remove-btn" onclick="removeImage(${index})">
                    <i class="fas fa-times"></i>
                </button>
                <p class="text-xs text-gray-500 mt-1 truncate">${imageData.name}</p>
            `;
            preview.appendChild(div);
        }

        // ì´ë¯¸ì§€ ì œê±°
        function removeImage(index) {
            uploadedImages.splice(index, 1);
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';
            
            // ë‹¤ì‹œ ë Œë”ë§
            uploadedImages.forEach((imageData, i) => {
                addImagePreview(imageData, i);
            });
            
            // ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ ìˆ¨ê¹€
            if (uploadedImages.length === 0) {
                preview.classList.add('hidden');
            }
        }

        // í¼ ìœ íš¨ì„± ê²€ì‚¬ ì„¤ì •
        function setupFormValidation() {
            const form = document.getElementById('orderForm');
            const inputs = form.querySelectorAll('input[required], textarea[required]');
            
            inputs.forEach(input => {
                input.addEventListener('blur', validateField);
                input.addEventListener('input', clearFieldError);
            });
        }

        // í•„ë“œ ìœ íš¨ì„± ê²€ì‚¬
        function validateField(e) {
            const field = e.target;
            const value = field.value.trim();
            
            // ê¸°ì¡´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
            clearFieldError(e);
            
            if (!value) {
                showFieldError(field, 'ì´ í•„ë“œëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.');
                return false;
            }
            
            // ì—°ë½ì²˜ í˜•ì‹ ê²€ì‚¬
            if (field.name === 'contact') {
                const phoneRegex = /^010-\d{4}-\d{4}$/;
                if (!phoneRegex.test(value)) {
                    showFieldError(field, '010-0000-0000 í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                    return false;
                }
            }
            
            return true;
        }

        // í•„ë“œ ì—ëŸ¬ í‘œì‹œ
        function showFieldError(field, message) {
            field.classList.add('border-red-500');
            
            const errorDiv = document.createElement('div');
            errorDiv.className = 'text-red-500 text-sm mt-1 error-message';
            errorDiv.textContent = message;
            
            field.parentElement.appendChild(errorDiv);
        }

        // í•„ë“œ ì—ëŸ¬ ì œê±°
        function clearFieldError(e) {
            const field = e.target;
            field.classList.remove('border-red-500');
            
            const errorMessage = field.parentElement.querySelector('.error-message');
            if (errorMessage) {
                errorMessage.remove();
            }
        }

        // í¼ ì œì¶œ ì²˜ë¦¬ (ë©”ì¸)
        function handleFormSubmit(e) {
            e.preventDefault();
            console.log('í¼ ì œì¶œ ì´ë²¤íŠ¸ ë°œìƒ (addEventListener)');
            processFormSubmission();
        }

        // í¼ ì œì¶œ ì²˜ë¦¬ (ë°±ì—… - onclickì—ì„œ í˜¸ì¶œ)
        function handleFormSubmitDirect(e) {
            e.preventDefault();
            console.log('í¼ ì œì¶œ ì´ë²¤íŠ¸ ë°œìƒ (onclick)');
            processFormSubmission();
        }

        // ì‹¤ì œ í¼ ì²˜ë¦¬ ë¡œì§
        function processFormSubmission() {
            if (!validateForm()) {
                console.log('í¼ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨');
                return;
            }
            
            console.log('í¼ ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼');
            
            // ë¡œë”© í‘œì‹œ
            showLoading();
            
            // í¼ ë°ì´í„° ìˆ˜ì§‘
            collectFormData();
            
            // ê°„ë‹¨í•œ ì§€ì—° í›„ ëª¨ë‹¬ í‘œì‹œ
            setTimeout(() => {
                hideLoading();
                showResultModal();
                console.log('ëª¨ë‹¬ í‘œì‹œ ì™„ë£Œ');
            }, 1000);
        }

        // ì „ì²´ í¼ ìœ íš¨ì„± ê²€ì‚¬
        function validateForm() {
            const form = document.getElementById('orderForm');
            let isValid = true;
            
            console.log('ìœ íš¨ì„± ê²€ì‚¬ ì‹œì‘');
            
            // í•„ìˆ˜ í•„ë“œ ê²€ì‚¬ - ë¸Œëœë“œëª…ê³¼ ì»¨ì…‰ë§Œ ì²´í¬
            const brandName = document.getElementById('brandName').value.trim();
            const concept = document.getElementById('concept').value.trim();
            const contact = document.getElementById('contact').value.trim();
            
            if (!brandName) {
                alert('ë¸Œëœë“œëª…ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                isValid = false;
            }
            
            if (!concept) {
                alert('ì œì‘ ì»¨ì…‰ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                isValid = false;
            }
            
            if (!contact) {
                alert('ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                isValid = false;
            }
            
            // ì„±ë³„ ì„ íƒ ê²€ì‚¬
            const genderSelected = form.querySelector('input[name="gender"]:checked');
            if (!genderSelected) {
                alert('ëª¨ë¸ ì„±ë³„ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                isValid = false;
            }
            
            // ì¸ì¢… ì„ íƒ ê²€ì‚¬
            const raceSelected = form.querySelector('input[name="race"]:checked');
            if (!raceSelected) {
                alert('ëª¨ë¸ ì¸ì¢…ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
                isValid = false;
            }
            
            // ì´ë¯¸ì§€ ì—…ë¡œë“œëŠ” ì„ íƒì‚¬í•­ìœ¼ë¡œ ë³€ê²½
            console.log('ìœ íš¨ì„± ê²€ì‚¬ ê²°ê³¼:', isValid);
            
            return isValid;
        }

        // í¼ ë°ì´í„° ìˆ˜ì§‘
        function collectFormData() {
            const form = document.getElementById('orderForm');
            const formData = new FormData(form);
            
            console.log('ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘');
            
            orderData = {
                brandName: formData.get('brandName') || '',
                concept: formData.get('concept') || '',
                gender: formData.get('gender') || '',
                race: formData.get('race') || '',
                locations: getSelectedLocations(),
                customLocation: formData.get('customLocation') || '',
                contact: formData.get('contact') || '',
                additionalRequest: formData.get('additionalRequest') || '',
                images: uploadedImages || [],
                timestamp: new Date().toLocaleString('ko-KR')
            };
            
            console.log('ìˆ˜ì§‘ëœ ë°ì´í„°:', orderData);
        }

        // ì„ íƒëœ ì¥ì†Œ ê°€ì ¸ì˜¤ê¸°
        function getSelectedLocations() {
            const locations = [];
            document.querySelectorAll('input[name="location"]:checked').forEach(input => {
                locations.push(input.value);
            });
            return locations;
        }

        // ë¡œë”© í‘œì‹œ
        function showLoading() {
            const button = document.querySelector('button[type="submit"]');
            const originalText = button.innerHTML;
            button.innerHTML = '<div class="loading-spinner mx-auto"></div>';
            button.disabled = true;
            button.dataset.originalText = originalText;
        }

        // ë¡œë”© ìˆ¨ê¹€
        function hideLoading() {
            const button = document.querySelector('button[type="submit"]');
            button.innerHTML = button.dataset.originalText;
            button.disabled = false;
        }

        // ê²°ê³¼ ëª¨ë‹¬ í‘œì‹œ
        function showResultModal() {
            const modal = document.getElementById('resultModal');
            
            // ì—…ë¡œë“œëœ ì´ë¯¸ì§€ë“¤ì„ ëª¨ë‹¬ì— ë¯¸ë¦¬ë³´ê¸°ë¡œ í‘œì‹œ
            displayModalImagePreview();
            
            modal.classList.remove('hidden');
            modal.classList.add('flex', 'modal-enter');
            
            // ì²´í¬ ì•„ì´ì½˜ ì• ë‹ˆë©”ì´ì…˜
            setTimeout(() => {
                const checkIcon = modal.querySelector('.fa-check-circle');
                checkIcon.classList.add('check-animation');
            }, 100);
        }

        // ëª¨ë‹¬ì— ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
        function displayModalImagePreview() {
            const previewContainer = document.getElementById('modalImagePreview');
            
            if (orderData.images && orderData.images.length > 0) {
                previewContainer.innerHTML = `
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-3">
                            <h4 class="text-lg font-semibold text-gray-700">ğŸ“¸ ì—…ë¡œë“œëœ ìƒí’ˆì‚¬ì§„ (${orderData.images.length}ì¥)</h4>
                            <button onclick="downloadAllImagesAsZip()" class="bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition-colors">
                                <i class="fas fa-download mr-1"></i>ZIP ë‹¤ìš´ë¡œë“œ
                            </button>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                            ${orderData.images.map((imgData, index) => `
                                <div class="text-center bg-gray-50 p-2 rounded-lg">
                                    <img src="${imgData.url}" alt="${imgData.name}" class="w-full h-20 object-cover rounded border cursor-pointer" onclick="downloadSingleImage(${index})">
                                    <p class="text-xs text-gray-500 mt-1 truncate">${imgData.name}</p>
                                    <p class="text-xs text-gray-400">${formatFileSize(imgData.file.size)}</p>
                                    <button onclick="downloadSingleImage(${index})" class="bg-blue-500 text-white px-2 py-1 rounded text-xs mt-1 hover:bg-blue-600 transition-colors">
                                        <i class="fas fa-download mr-1"></i>ë‹¤ìš´ë¡œë“œ
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                        <p class="text-sm text-indigo-600 mt-3">ğŸ’¡ ê°œë³„ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì €ì¥í•˜ì„¸ìš”.</p>
                    </div>
                `;
            } else {
                previewContainer.innerHTML = `
                    <div class="mb-4 p-4 bg-gray-50 rounded-lg">
                        <p class="text-gray-500">ì—…ë¡œë“œëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
            }
        }

        // ëª¨ë‹¬ ë‹«ê¸°
        function closeModal() {
            const modal = document.getElementById('resultModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex', 'modal-enter');
        }

        // ë§í¬ ë³µì‚¬ ê¸°ëŠ¥
        function sendToKakao() {
            // ì£¼ë¬¸ ë°ì´í„°ë¥¼ Base64ë¡œ ì¸ì½”ë”©í•˜ì—¬ URLì— í¬í•¨
            const encodedData = encodeOrderDataToURL();
            const shareUrl = `${window.location.origin}${window.location.pathname}#data=${encodedData}`;
            
            // ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬
            copyLinkToClipboard(shareUrl);
        }
        
        // ì£¼ë¬¸ ë°ì´í„°ë¥¼ URLì— ì¸ì½”ë”©
        function encodeOrderDataToURL() {
            const dataToEncode = {
                brandName: orderData.brandName || '',
                concept: orderData.concept || '',
                gender: orderData.gender || '',
                race: orderData.race || '',
                locations: orderData.locations || [],
                customLocation: orderData.customLocation || '',
                contact: orderData.contact || '',
                additionalRequest: orderData.additionalRequest || '',
                images: (orderData.images && orderData.images.length > 0) ? 
                    orderData.images.map(img => ({
                        name: img.name,
                        url: img.url,
                        size: img.file.size
                    })) : [],
                timestamp: orderData.timestamp || new Date().toLocaleString('ko-KR')
            };
            
            console.log('ì¸ì½”ë”©í•  ë°ì´í„°:', dataToEncode);
            
            // JSONì„ ë¬¸ìì—´ë¡œ ë³€í™˜ í›„ Base64ë¡œ ì¸ì½”ë”©
            const jsonString = JSON.stringify(dataToEncode);
            return btoa(encodeURIComponent(jsonString));
        }
        

        


        // ëª¨ë°”ì¼ ê¸°ê¸° ê°ì§€
        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }



        // ê³µìœ ëœ ë°ì´í„° í™•ì¸ ë° í‘œì‹œ
        function checkForSharedData() {
            const hash = window.location.hash;
            if (hash.startsWith('#data=')) {
                const encodedData = hash.substring(6);
                try {
                    const jsonString = decodeURIComponent(atob(encodedData));
                    const sharedData = JSON.parse(jsonString);
                    displaySharedOrderData(sharedData);
                } catch (error) {
                    console.error('ê³µìœ  ë°ì´í„° ë””ì½”ë”© ì˜¤ë¥˜:', error);
                }
            }
        }
        
        // ê³µìœ ëœ ì£¼ë¬¸ ë°ì´í„° í‘œì‹œ
        function displaySharedOrderData(data) {
            // í¼ì„ ìˆ¨ê¸°ê³  ê³µìœ  ë°ì´í„° í‘œì‹œ ì˜ì—­ ìƒì„±
            document.querySelector('.bg-white.rounded-2xl').style.display = 'none';
            
            const sharedContainer = document.createElement('div');
            sharedContainer.className = 'bg-white rounded-2xl shadow-xl overflow-hidden';
            sharedContainer.innerHTML = `
                <div class="bg-gradient-to-r from-green-500 to-teal-600 px-8 py-6">
                    <h2 class="text-2xl font-bold text-white flex items-center">
                        <i class="fas fa-file-alt mr-3"></i>
                        ê³µìœ ëœ ì‘ì—…ì§€ì‹œì„œ
                    </h2>
                    <p class="text-green-100 mt-2">ì‘ì—…ì§€ì‹œì„œ ì •ë³´ì™€ ì²¨ë¶€ëœ ì´ë¯¸ì§€ë¥¼ í™•ì¸í•˜ê³  ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”</p>
                </div>
                
                <div class="p-8">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">ğŸ“‹ ê¸°ë³¸ ì •ë³´</h3>
                            <div class="space-y-2">
                                <p><strong>ë¸Œëœë“œëª…:</strong> ${data.brandName}</p>
                                <p><strong>ëª¨ë¸:</strong> ${data.gender} / ${data.race}</p>
                                <p><strong>ì—°ë½ì²˜:</strong> ${data.contact}</p>
                                <p><strong>ì‘ì„±ì¼ì‹œ:</strong> ${data.timestamp}</p>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-semibold text-gray-700 mb-4">ğŸ“ ì´¬ì˜ ì •ë³´</h3>
                            <div class="space-y-2">
                                <p><strong>ì´¬ì˜ ì¥ì†Œ:</strong> ${data.locations ? data.locations.join(', ') : '-'}${data.customLocation ? ` (${data.customLocation})` : ''}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">ğŸ’¡ ì œì‘ ì»¨ì…‰</h3>
                        <p class="bg-gray-50 p-4 rounded-lg">${data.concept}</p>
                    </div>
                    
                    ${data.additionalRequest ? `
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold text-gray-700 mb-2">ğŸ’¬ ì¶”ê°€ ìš”ì²­ì‚¬í•­</h3>
                            <p class="bg-gray-50 p-4 rounded-lg">${data.additionalRequest}</p>
                        </div>
                    ` : ''}
                    
                    ${data.images && data.images.length > 0 ? `
                        <div class="mb-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-semibold text-gray-700">ğŸ“¸ ì²¨ë¶€ëœ ìƒí’ˆì‚¬ì§„ (${data.images.length}ì¥)</h3>
                                <button onclick="downloadAllSharedImages()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">
                                    <i class="fas fa-download mr-2"></i>ì „ì²´ ë‹¤ìš´ë¡œë“œ
                                </button>
                            </div>
                            <div id="sharedImageGrid" class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                ${data.images.map((img, index) => `
                                    <div class="bg-gray-50 p-3 rounded-lg text-center">
                                        <img src="${img.url}" alt="${img.name}" class="w-full h-24 object-cover rounded mb-2">
                                        <p class="text-xs text-gray-600 mb-2">${img.name}</p>
                                        <button onclick="downloadSharedImage(${index})" class="bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 transition-colors">
                                            <i class="fas fa-download mr-1"></i>ë‹¤ìš´ë¡œë“œ
                                        </button>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    <div class="text-center pt-6 border-t">
                        <button onclick="location.reload()" class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ì‘ì—…ì§€ì‹œì„œ ì‘ì„±í•˜ê¸°
                        </button>
                    </div>
                </div>
            `;
            
            // ê¸°ì¡´ í¼ ì»¨í…Œì´ë„ˆ ë’¤ì— ì¶”ê°€
            document.querySelector('.container > .bg-white').parentNode.appendChild(sharedContainer);
            
            // ì „ì—­ ë³€ìˆ˜ì— ê³µìœ  ë°ì´í„° ì €ì¥
            window.sharedOrderData = data;
        }
        
        // ê°œë³„ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
        function downloadSharedImage(index) {
            const imageData = window.sharedOrderData.images[index];
            if (imageData) {
                const link = document.createElement('a');
                link.href = imageData.url;
                link.download = imageData.name;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }
        
        // ëª¨ë“  ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (ZIP ì—†ì´ ê°œë³„ ë‹¤ìš´ë¡œë“œ)
        function downloadAllSharedImages() {
            if (window.sharedOrderData && window.sharedOrderData.images) {
                window.sharedOrderData.images.forEach((imageData, index) => {
                    setTimeout(() => {
                        downloadSharedImage(index);
                    }, index * 300); // 300ms ê°„ê²©ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ
                });
                alert(`${window.sharedOrderData.images.length}ì¥ì˜ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            }
        }
        
        // ë§í¬ ë³µì‚¬ ì „ìš© í•¨ìˆ˜
        function copyLinkToClipboard(url) {
            navigator.clipboard.writeText(url).then(() => {
                alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë§í¬ë¥¼ ë³´ë‚´ì£¼ì„¸ìš”.');
            }).catch(() => {
                // í´ë°±: í…ìŠ¤íŠ¸ ì„ íƒ
                const textArea = document.createElement('textarea');
                textArea.value = url;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë§í¬ë¥¼ ë³´ë‚´ì£¼ì„¸ìš”.');
            });
        }
        
        // í´ë¦½ë³´ë“œì— ë³µì‚¬ (ê¸°ì¡´ í•¨ìˆ˜ ìœ ì§€)
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('ğŸ“‹ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nğŸ’¡ ì¹´ì¹´ì˜¤í†¡ì„ ì—´ì–´ì„œ ì›í•˜ëŠ” ëŒ€í™”ë°©ì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
            }).catch(() => {
                // í´ë°±: í…ìŠ¤íŠ¸ ì„ íƒ
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('ğŸ“‹ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nğŸ’¡ ì¹´ì¹´ì˜¤í†¡ì„ ì—´ì–´ì„œ ì›í•˜ëŠ” ëŒ€í™”ë°©ì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
            });
        }






    </script>
</body>
</html><!-- Updated Thu Sep 18 05:12:59 UTC 2025 -->
<!-- Updated 2025-09-18 06:18:39 UTC -->
